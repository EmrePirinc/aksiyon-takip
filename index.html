<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Aksiyon Takip Sistemi - Anadolu BakÄ±r & AIFTEAM</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #2563eb;
            --primary-dark: #1e40af;
            --secondary: #10b981;
            --danger: #ef4444;
            --warning: #f59e0b;
            --dark: #1f2937;
            --gray: #6b7280;
            --light-gray: #f3f4f6;
            --white: #ffffff;
            --anadolu: #e74c3c;
            --anadolu-light: #ffeaa7;
            --aifteam: #3498db;
            --aifteam-light: #74b9ff;
            --ortak: #9b59b6;
            --ortak-light: #dfe6e9;
            --shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1600px;
            margin: 0 auto;
        }

        .header {
            background: var(--white);
            border-radius: 16px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: var(--shadow-lg);
            animation: slideDown 0.5s ease;
        }

        .header-content {
            display: flex;
            align-items: center;
            gap: 30px;
            margin-bottom: 20px;
        }

        .header h1 {
            color: var(--dark);
            font-size: 2.5rem;
            flex: 1;
        }

        .team-badges {
            display: flex;
            gap: 15px;
        }

        .team-badge {
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
            color: var(--white);
        }

        .team-badge.anadolu {
            background: linear-gradient(135deg, var(--anadolu) 0%, #c0392b 100%);
        }

        .team-badge.aifteam {
            background: linear-gradient(135deg, var(--aifteam) 0%, #2980b9 100%);
        }

        .team-badge.ortak {
            background: linear-gradient(135deg, var(--ortak) 0%, #8e44ad 100%);
        }

        .header p {
            color: var(--gray);
            font-size: 1.1rem;
        }

        .stats-row {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .team-stats {
            flex: 1;
            min-width: 300px;
            background: var(--white);
            border-radius: 12px;
            padding: 20px;
            box-shadow: var(--shadow);
        }

        .team-stats.anadolu-stats {
            border-top: 4px solid var(--anadolu);
        }

        .team-stats.aifteam-stats {
            border-top: 4px solid var(--aifteam);
        }

        .team-stats.ortak-stats {
            border-top: 4px solid var(--ortak);
        }

        .team-stats h3 {
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
        }

        .mini-stat {
            text-align: center;
            padding: 10px;
            background: var(--light-gray);
            border-radius: 8px;
        }

        .mini-stat .label {
            font-size: 0.75rem;
            color: var(--gray);
            text-transform: uppercase;
            margin-bottom: 5px;
        }

        .mini-stat .value {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark);
        }

        .controls {
            background: var(--white);
            border-radius: 12px;
            padding: 20px;
            margin-bottom: 30px;
            box-shadow: var(--shadow);
        }

        .controls-top {
            display: flex;
            gap: 15px;
            align-items: center;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .search-box {
            flex: 1;
            min-width: 200px;
            position: relative;
        }

        .search-box input {
            width: 100%;
            padding: 12px 40px 12px 15px;
            border: 2px solid var(--light-gray);
            border-radius: 8px;
            font-size: 1rem;
            transition: all 0.3s ease;
        }

        .search-box input:focus {
            outline: none;
            border-color: var(--primary);
        }

        .add-btn {
            padding: 12px 24px;
            background: linear-gradient(135deg, var(--secondary) 0%, #059669 100%);
            color: var(--white);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .add-btn:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-lg);
        }

        .export-buttons {
            display: flex;
            gap: 10px;
        }

        .export-btn {
            padding: 10px 18px;
            background: var(--white);
            border: 2px solid var(--primary);
            color: var(--primary);
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            font-size: 0.9rem;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .export-btn:hover {
            background: var(--primary);
            color: var(--white);
            transform: translateY(-2px);
        }

        .export-btn.excel {
            border-color: #107c41;
            color: #107c41;
        }

        .export-btn.excel:hover {
            background: #107c41;
            color: var(--white);
        }

        .export-btn.word {
            border-color: #2b579a;
            color: #2b579a;
        }

        .export-btn.word:hover {
            background: #2b579a;
            color: var(--white);
        }

        .export-btn.import {
            border-color: #22c55e;
            color: #22c55e;
        }

        .export-btn.import:hover {
            background: #22c55e;
            color: var(--white);
        }

        .filter-section {
            display: flex;
            gap: 20px;
            align-items: center;
            flex-wrap: wrap;
        }

        .filter-label {
            font-weight: 600;
            color: var(--dark);
        }

        .team-filters {
            display: flex;
            gap: 10px;
        }

        .team-filter-btn {
            padding: 8px 16px;
            border: 2px solid var(--light-gray);
            background: var(--white);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .team-filter-btn:hover {
            transform: translateY(-2px);
        }

        .team-filter-btn.active.all {
            background: var(--dark);
            color: var(--white);
            border-color: var(--dark);
        }

        .team-filter-btn.active.anadolu {
            background: var(--anadolu);
            color: var(--white);
            border-color: var(--anadolu);
        }

        .team-filter-btn.active.aifteam {
            background: var(--aifteam);
            color: var(--white);
            border-color: var(--aifteam);
        }

        .team-filter-btn.active.ortak {
            background: var(--ortak);
            color: var(--white);
            border-color: var(--ortak);
        }

        .status-filters {
            display: flex;
            gap: 10px;
        }

        .filter-btn {
            padding: 8px 16px;
            border: 2px solid var(--light-gray);
            background: var(--white);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 0.9rem;
        }

        .filter-btn:hover {
            background: var(--light-gray);
        }

        .filter-btn.active {
            background: var(--primary);
            color: var(--white);
            border-color: var(--primary);
        }

        .view-toggle {
            display: flex;
            gap: 10px;
            margin-left: auto;
        }

        .view-btn {
            padding: 8px 12px;
            border: 1px solid var(--light-gray);
            background: var(--white);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .view-btn.active {
            background: var(--primary);
            color: var(--white);
        }

        .actions-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 25px;
        }

        .actions-container.grouped {
            display: block;
        }

        .team-section {
            margin-bottom: 30px;
        }

        .team-header {
            padding: 15px 20px;
            border-radius: 12px 12px 0 0;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            color: var(--white);
        }

        .team-header.anadolu {
            background: linear-gradient(135deg, var(--anadolu) 0%, #c0392b 100%);
        }

        .team-header.aifteam {
            background: linear-gradient(135deg, var(--aifteam) 0%, #2980b9 100%);
        }

        .team-header.ortak {
            background: linear-gradient(135deg, var(--ortak) 0%, #8e44ad 100%);
        }

        .team-header h2 {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .team-actions {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(380px, 1fr));
            gap: 20px;
        }

        .action-card {
            background: var(--white);
            border-radius: 12px;
            padding: 20px;
            box-shadow: var(--shadow);
            transition: all 0.3s ease;
            animation: slideUp 0.5s ease;
            border-left: 4px solid transparent;
        }

        .action-card.anadolu {
            border-left-color: var(--anadolu);
        }

        .action-card.aifteam {
            border-left-color: var(--aifteam);
        }

        .action-card.ortak {
            border-left-color: var(--ortak);
        }

        .action-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-lg);
        }

        .action-header {
            display: flex;
            justify-content: space-between;
            align-items: start;
            margin-bottom: 15px;
        }

        .action-title {
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 5px;
        }

        .responsible {
            font-size: 0.875rem;
            color: var(--gray);
            display: flex;
            align-items: center;
            gap: 5px;
        }

        .responsible-badge {
            padding: 2px 8px;
            border-radius: 12px;
            font-size: 0.75rem;
            font-weight: 600;
            margin-left: 5px;
        }

        .responsible-badge.anadolu {
            background: rgba(231, 76, 60, 0.1);
            color: var(--anadolu);
        }

        .responsible-badge.aifteam {
            background: rgba(52, 152, 219, 0.1);
            color: var(--aifteam);
        }

        .responsible-badge.ortak {
            background: rgba(155, 89, 182, 0.1);
            color: var(--ortak);
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
        }

        .status-badge.completed {
            background: #d1fae5;
            color: #065f46;
        }

        .status-badge.in-progress {
            background: #dbeafe;
            color: #1e40af;
        }

        .status-badge.waiting {
            background: #fed7aa;
            color: #92400e;
        }

        .action-description {
            color: var(--gray);
            font-size: 0.95rem;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .action-footer {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding-top: 15px;
            border-top: 1px solid var(--light-gray);
        }

        .date {
            display: flex;
            align-items: center;
            gap: 5px;
            color: var(--gray);
            font-size: 0.875rem;
        }

        .action-buttons {
            display: flex;
            gap: 10px;
        }

        .action-btn {
            padding: 8px 12px;
            background: var(--light-gray);
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            font-size: 0.875rem;
        }

        .action-btn:hover {
            background: var(--primary);
            color: var(--white);
        }

        .action-btn.delete:hover {
            background: var(--danger);
        }

        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal.active {
            display: flex;
            animation: fadeIn 0.3s ease;
        }

        .modal-content {
            background: var(--white);
            border-radius: 16px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            animation: slideUp 0.3s ease;
        }

        .modal-header {
            margin-bottom: 25px;
        }

        .modal-header h2 {
            color: var(--dark);
            font-size: 1.8rem;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--dark);
            font-weight: 500;
        }

        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--light-gray);
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: var(--primary);
        }

        .form-group textarea {
            resize: vertical;
            min-height: 100px;
        }

        .modal-buttons {
            display: flex;
            gap: 15px;
            justify-content: flex-end;
            margin-top: 25px;
        }

        .modal-btn {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.2s ease;
        }

        .modal-btn.cancel {
            background: var(--light-gray);
            color: var(--dark);
        }

        .modal-btn.cancel:hover {
            background: #e5e7eb;
        }

        .modal-btn.save {
            background: var(--primary);
            color: var(--white);
        }

        .modal-btn.save:hover {
            background: var(--primary-dark);
        }

        @keyframes slideDown {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        @keyframes slideUp {
            from {
                transform: translateY(20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .backup-status {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--white);
            padding: 15px 20px;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            display: flex;
            align-items: center;
            gap: 15px;
            z-index: 100;
            animation: slideUp 0.5s ease;
        }

        .backup-status.warning {
            border-left: 4px solid var(--warning);
        }

        .backup-status.success {
            border-left: 4px solid var(--secondary);
        }

        .backup-status.danger {
            border-left: 4px solid var(--danger);
        }

        .backup-info {
            flex: 1;
        }

        .backup-title {
            font-weight: 600;
            color: var(--dark);
            margin-bottom: 3px;
        }

        .backup-time {
            font-size: 0.875rem;
            color: var(--gray);
        }

        .backup-btn {
            padding: 8px 16px;
            background: var(--primary);
            color: var(--white);
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .backup-btn:hover {
            background: var(--primary-dark);
            transform: translateY(-2px);
        }

        .backup-settings {
            position: fixed;
            top: 20px;
            right: 20px;
            background: var(--white);
            padding: 20px;
            border-radius: 12px;
            box-shadow: var(--shadow-lg);
            display: none;
            z-index: 200;
            min-width: 300px;
        }

        .backup-settings.active {
            display: block;
            animation: slideDown 0.3s ease;
        }

        .backup-settings h3 {
            margin-bottom: 15px;
            color: var(--dark);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .close-settings {
            cursor: pointer;
            font-size: 1.5rem;
            color: var(--gray);
            background: none;
            border: none;
        }

        .backup-option {
            margin-bottom: 15px;
            padding: 10px;
            background: var(--light-gray);
            border-radius: 8px;
        }

        .backup-option label {
            display: flex;
            align-items: center;
            gap: 10px;
            cursor: pointer;
            font-weight: 500;
        }

        .backup-option input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .backup-option input[type="number"] {
            width: 60px;
            padding: 5px;
            border: 1px solid var(--gray);
            border-radius: 4px;
            margin-left: 10px;
        }

        .backup-history {
            margin-top: 20px;
            padding-top: 20px;
            border-top: 1px solid var(--light-gray);
        }

        .backup-history h4 {
            margin-bottom: 10px;
            color: var(--dark);
        }

        .backup-list {
            max-height: 200px;
            overflow-y: auto;
        }

        .backup-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 8px;
            margin-bottom: 5px;
            background: var(--white);
            border: 1px solid var(--light-gray);
            border-radius: 6px;
            font-size: 0.875rem;
        }

        .backup-item:hover {
            background: var(--light-gray);
        }

        .restore-btn {
            padding: 4px 8px;
            background: var(--primary);
            color: var(--white);
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-size: 0.75rem;
        }

        .settings-toggle {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 10px;
            background: var(--white);
            border-radius: 50%;
            box-shadow: var(--shadow);
            cursor: pointer;
            border: none;
            font-size: 1.2rem;
            z-index: 150;
            transition: all 0.3s ease;
        }

        .settings-toggle:hover {
            transform: rotate(90deg);
            box-shadow: var(--shadow-lg);
        }

        .notification {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: var(--white);
            padding: 30px;
            border-radius: 16px;
            box-shadow: var(--shadow-lg);
            z-index: 2000;
            display: none;
            text-align: center;
            min-width: 350px;
        }

        .notification.active {
            display: block;
            animation: fadeIn 0.3s ease;
        }

        .notification h3 {
            color: var(--dark);
            margin-bottom: 15px;
        }

        .notification p {
            color: var(--gray);
            margin-bottom: 20px;
        }

        .notification-buttons {
            display: flex;
            gap: 10px;
            justify-content: center;
        }

        .notification-btn {
            padding: 10px 20px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
        }

        .notification-btn.primary {
            background: var(--primary);
            color: var(--white);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.8rem;
            }

            .header-content {
                flex-direction: column;
                gap: 15px;
            }

            .stats-row {
                flex-direction: column;
            }

            .actions-container {
                grid-template-columns: 1fr;
            }

            .controls-top {
                flex-direction: column;
            }

            .search-box {
                width: 100%;
            }

            .export-buttons {
                width: 100%;
                justify-content: center;
            }

            .filter-section {
                flex-direction: column;
                align-items: flex-start;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="header-content">
                <h1>ð Aksiyon Takip Sistemi</h1>
                <div class="team-badges">
                    <div class="team-badge anadolu">
                        <span>ð¢</span>
                        <span>Anadolu BakÄ±r</span>
                    </div>
                    <div class="team-badge aifteam">
                        <span>ð»</span>
                        <span>AIFTEAM</span>
                    </div>
                    <div class="team-badge ortak">
                        <span>ð¤</span>
                        <span>Ortak</span>
                    </div>
                </div>
            </div>
            <p>Proje sorumluluklarÄ± ve aksiyonlarÄ± yÃ¶netin</p>
        </div>

        <div class="stats-row">
            <div class="team-stats anadolu-stats">
                <h3>
                    <span style="color: var(--anadolu);">ð¢</span>
                    Anadolu BakÄ±r
                </h3>
                <div class="stats-grid">
                    <div class="mini-stat">
                        <div class="label">Toplam</div>
                        <div class="value" id="anadoluTotal">0</div>
                    </div>
                    <div class="mini-stat">
                        <div class="label">Devam</div>
                        <div class="value" id="anadoluProgress">0</div>
                    </div>
                    <div class="mini-stat">
                        <div class="label">Bekleyen</div>
                        <div class="value" id="anadoluWaiting">0</div>
                    </div>
                </div>
            </div>

            <div class="team-stats aifteam-stats">
                <h3>
                    <span style="color: var(--aifteam);">ð»</span>
                    AIFTEAM
                </h3>
                <div class="stats-grid">
                    <div class="mini-stat">
                        <div class="label">Toplam</div>
                        <div class="value" id="aifteamTotal">0</div>
                    </div>
                    <div class="mini-stat">
                        <div class="label">Devam</div>
                        <div class="value" id="aifteamProgress">0</div>
                    </div>
                    <div class="mini-stat">
                        <div class="label">Bekleyen</div>
                        <div class="value" id="aifteamWaiting">0</div>
                    </div>
                </div>
            </div>

            <div class="team-stats ortak-stats">
                <h3>
                    <span style="color: var(--ortak);">ð¤</span>
                    Ortak Aksiyonlar
                </h3>
                <div class="stats-grid">
                    <div class="mini-stat">
                        <div class="label">Toplam</div>
                        <div class="value" id="ortakTotal">0</div>
                    </div>
                    <div class="mini-stat">
                        <div class="label">Devam</div>
                        <div class="value" id="ortakProgress">0</div>
                    </div>
                    <div class="mini-stat">
                        <div class="label">Bekleyen</div>
                        <div class="value" id="ortakWaiting">0</div>
                    </div>
                </div>
            </div>
        </div>

        <div class="controls">
            <div class="controls-top">
                <div class="search-box">
                    <input type="text" id="searchInput" placeholder="Aksiyon ara...">
                </div>
                <button class="add-btn" onclick="openModal()">+ Yeni Aksiyon</button>
                <div class="export-buttons">
                    <button class="export-btn excel" onclick="exportToExcel()">
                        <span>ð</span> Excel'e Aktar
                    </button>
                    <button class="export-btn word" onclick="exportToWord()">
                        <span>ð</span> Word'e Aktar
                    </button>
                    <button class="export-btn import" onclick="importBackup()">
                        <span>ð¥</span> Yedek YÃ¼kle
                    </button>
                </div>
            </div>
            <div class="filter-section">
                <span class="filter-label">TakÄ±m:</span>
                <div class="team-filters">
                    <button class="team-filter-btn active all" data-team="all">
                        <span>ð</span> TÃ¼mÃ¼
                    </button>
                    <button class="team-filter-btn anadolu" data-team="Anadolu BakÄ±r">
                        <span>ð¢</span> Anadolu BakÄ±r
                    </button>
                    <button class="team-filter-btn aifteam" data-team="AIFTEAM">
                        <span>ð»</span> AIFTEAM
                    </button>
                    <button class="team-filter-btn ortak" data-team="Ortak">
                        <span>ð¤</span> Ortak
                    </button>
                </div>
                <span class="filter-label">Durum:</span>
                <div class="status-filters">
                    <button class="filter-btn active" data-filter="all">TÃ¼mÃ¼</button>
                    <button class="filter-btn" data-filter="completed">TamamlandÄ±</button>
                    <button class="filter-btn" data-filter="in-progress">Devam Ediyor</button>
                    <button class="filter-btn" data-filter="waiting">Bekliyor</button>
                </div>
                <div class="view-toggle">
                    <button class="view-btn" data-view="grid">Izgara</button>
                    <button class="view-btn active" data-view="grouped">Gruplu</button>
                </div>
            </div>
        </div>

        <div class="actions-container" id="actionsContainer">
            <!-- Aksiyonlar buraya eklenecek -->
        </div>
    </div>

    <!-- Yedekleme Durumu -->
    <button class="settings-toggle" onclick="toggleBackupSettings()">âï¸</button>
    
    <div class="backup-status warning" id="backupStatus">
        <div class="backup-info">
            <div class="backup-title">Otomatik Yedekleme</div>
            <div class="backup-time" id="backupTime">Son yedek: HenÃ¼z alÄ±nmadÄ±</div>
        </div>
        <button class="backup-btn" onclick="createBackup()">Åimdi Yedekle</button>
    </div>

    <!-- Yedekleme AyarlarÄ± -->
    <div class="backup-settings" id="backupSettings">
        <h3>
            âï¸ Yedekleme AyarlarÄ±
            <button class="close-settings" onclick="toggleBackupSettings()">Ã</button>
        </h3>
        
        <div class="backup-option">
            <label>
                <input type="checkbox" id="autoBackup" checked onchange="updateBackupSettings()">
                Otomatik Yedekleme Aktif
            </label>
        </div>
        
        <div class="backup-option">
            <label>
                Her
                <input type="number" id="backupInterval" value="30" min="5" max="1440" onchange="updateBackupSettings()">
                dakikada bir yedekle
            </label>
        </div>
        
        <div class="backup-option">
            <label>
                <input type="checkbox" id="backupOnChange" checked onchange="updateBackupSettings()">
                Her 5 deÄiÅiklikte otomatik yedekle
            </label>
        </div>
        
        <div class="backup-option">
            <label>
                <input type="checkbox" id="dailyReminder" checked onchange="updateBackupSettings()">
                GÃ¼nlÃ¼k yedekleme hatÄ±rlatÄ±cÄ±sÄ± (09:00)
            </label>
        </div>
        
        <div class="backup-history">
            <h4>ð Yedekleme GeÃ§miÅi</h4>
            <div class="backup-list" id="backupList">
                <!-- Yedekler buraya gelecek -->
            </div>
        </div>
        
        <div style="margin-top: 15px;">
            <button class="backup-btn" style="width: 100%;" onclick="exportAllBackups()">
                TÃ¼m Yedekleri Ä°ndir
            </button>
        </div>
    </div>

    <!-- Yedekleme HatÄ±rlatma Bildirimi -->
    <div class="notification" id="backupNotification">
        <h3>â° Yedekleme ZamanÄ±!</h3>
        <p>Verilerinizi gÃ¼vende tutmak iÃ§in yedekleme yapmanÄ±zÄ± Ã¶neririz.</p>
        <div class="notification-buttons">
            <button class="notification-btn primary" onclick="createBackupFromNotification()">Åimdi Yedekle</button>
            <button class="notification-btn secondary" onclick="dismissNotification()">Sonra HatÄ±rlat</button>
        </div>
    </div>

    <!-- Modal -->
    <div class="modal" id="actionModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modalTitle">Yeni Aksiyon Ekle</h2>
            </div>
            <form id="actionForm">
                <div class="form-group">
                    <label for="actionTitle">BaÅlÄ±k *</label>
                    <input type="text" id="actionTitle" required>
                </div>
                <div class="form-group">
                    <label for="actionResponsible">Sorumlu *</label>
                    <select id="actionResponsible" required>
                        <option value="">SeÃ§iniz...</option>
                        <option value="Anadolu BakÄ±r">Anadolu BakÄ±r</option>
                        <option value="AIFTEAM">AIFTEAM</option>
                        <option value="Ortak - AIFTEAM/Anadolu BakÄ±r">Ortak - AIFTEAM/Anadolu BakÄ±r</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="actionDescription">AÃ§Ä±klama *</label>
                    <textarea id="actionDescription" required></textarea>
                </div>
                <div class="form-group">
                    <label for="actionStatus">Durum *</label>
                    <select id="actionStatus" required>
                        <option value="waiting">Bekliyor</option>
                        <option value="in-progress">Devam Ediyor</option>
                        <option value="completed">TamamlandÄ±</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="actionDate">Hedef Tarih</label>
                    <input type="date" id="actionDate">
                </div>
                <div class="modal-buttons">
                    <button type="button" class="modal-btn cancel" onclick="closeModal()">Ä°ptal</button>
                    <button type="submit" class="modal-btn save">Kaydet</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        let actions = [];
        let editingId = null;
        let currentStatusFilter = 'all';
        let currentTeamFilter = 'all';
        let currentView = 'grouped';
        let changeCount = 0;
        let lastBackupTime = null;
        let backupHistory = [];
        let backupSettings = {
            autoBackup: true,
            backupInterval: 30, // dakika
            backupOnChange: true,
            dailyReminder: true
        };
        let backupTimer = null;

       // BaÅlangÄ±Ã§ verileri - TÃ¼m aksiyonlar
        const defaultActions = [
            // Anadolu BakÄ±r SorumluluÄundaki Aksiyonlar
            {
                id: 1001,
                title: "Vergi Grup UyarlamasÄ±",
                responsible: "Anadolu BakÄ±r",
                description: "Vergi gruplarÄ± ve hesap planÄ± yapÄ±sÄ± netleÅtirilmelidir.",
                status: "waiting",
                date: ""
            },
            {
                id: 1002,
                title: "Stok KartÄ± AktarÄ±mÄ±",
                responsible: "Anadolu BakÄ±r",
                description: "Kalem kodlarÄ± belirlenmeli ve AIFTEAM tarafÄ±ndan saÄlanan stok ana veri aktarÄ±m Åablonu doldurulmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1003,
                title: "Muhatap KartÄ± AktarÄ±mÄ±",
                responsible: "Anadolu BakÄ±r",
                description: "Muhatap kodlarÄ± belirlenmelidir.",
                status: "waiting",
                date: ""
            },
            {
                id: 1004,
                title: "ÃrÃ¼n ReÃ§etelerinin AktarÄ±mÄ±",
                responsible: "Anadolu BakÄ±r",
                description: "Cep ve ara depolar belirlenmeli ve Ã¼rÃ¼n reÃ§etesi aktarÄ±m Åablonu doldurulmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1005,
                title: "Hesap PlanÄ± YapÄ±sÄ±",
                responsible: "Anadolu BakÄ±r",
                description: "BaÅlatÄ±lan Ã¶n hesap planÄ± Ã§alÄ±ÅmasÄ± tamamlanmalÄ± ve AIFTEAM'e geri dÃ¶nÃ¼Å yapÄ±lmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1006,
                title: "Depo UyarlamalarÄ±",
                responsible: "Anadolu BakÄ±r",
                description: "Cep ve ara depo talepleri netleÅtirilerek AIFTEAM'e bildirilmelidir.",
                status: "waiting",
                date: ""
            },
            {
                id: 1007,
                title: "E-DÃ¶nÃ¼ÅÃ¼m",
                responsible: "Anadolu BakÄ±r",
                description: "ÃalÄ±ÅÄ±lacak entegratÃ¶r firma belirlenmeli ve entegratÃ¶r/Åirket bilgileri AIFTEAM'e iletilmelidir.",
                status: "waiting",
                date: ""
            },
            {
                id: 1008,
                title: "Personellere Ä°liÅkin Bilgiler (Muhasebe)",
                responsible: "Anadolu BakÄ±r",
                description: "Ä°stenen geliÅtirme iÃ§in Ã¶rnek bir Åablon AIFTEAM ile paylaÅÄ±lmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1009,
                title: "Sanayi Sicil Ä°Åletme Cetveli (Muhasebe)",
                responsible: "Anadolu BakÄ±r",
                description: "Rapor iÃ§in Ã¶rnek bir Åablon ve alan aÃ§Ä±klamalarÄ± AIFTEAM'e saÄlanmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1010,
                title: "Dahilde Ä°Ålem Takibi (Muhasebe)",
                responsible: "Anadolu BakÄ±r",
                description: "Ä°stenen rapor iÃ§in Ã¶rnek bir Åablon AIFTEAM ile paylaÅÄ±lmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1011,
                title: "DBS Limit Takibi (Finans)",
                responsible: "Anadolu BakÄ±r",
                description: "Entegrasyonun gerÃ§ekleÅtirilebilmesi iÃ§in Anadolu BakÄ±r firmasÄ±nÄ±n Bulut Tahsilat anlaÅmasÄ± yapmasÄ± gerekmektedir.",
                status: "waiting",
                date: ""
            },
            {
                id: 1012,
                title: "Nakit AkÄ±Å Raporu (Raporlar)",
                responsible: "Anadolu BakÄ±r",
                description: "Mevcut kullanÄ±lan nakit akÄ±Å excel dosyalarÄ± AIFTEAM'e gÃ¶nderilmelidir. (Mail olarak istendi bekleniyor.)",
                status: "waiting",
                date: ""
            },
            {
                id: 1013,
                title: "ÃekâSenet / Teminat / Kredi RaporlarÄ±",
                responsible: "Anadolu BakÄ±r",
                description: "Talep edilen raporlar iÃ§in Åablonlar (iÃ§erik ve format beklentisi) AIFTEAM ile paylaÅÄ±lmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1014,
                title: "Palet ve Rulo Etiket TasarÄ±mlarÄ± (Ãretim)",
                responsible: "Anadolu BakÄ±r",
                description: "Anadolu BakÄ±r iÃ§erisinde ZPL Designer kullanacak personellerin bulunmasÄ± gerekmektedir. Palet ve Rulo tÃ¼m etiket tasarÄ±mlarÄ± AIFTeam ekibi ile paylaÅÄ±lmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1015,
                title: "Palet Yapma (Ä°hracat)",
                responsible: "Anadolu BakÄ±r",
                description: "Palet oluÅturma senaryolarÄ± (taÅÄ±ma tÃ¼rÃ¼ne gÃ¶re vb.) netleÅtirilerek AIFTEAM'e aktarÄ±lmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1016,
                title: "Fiyat Listesi (Ä°hracat)",
                responsible: "Anadolu BakÄ±r",
                description: "Anadolu BakÄ±r tarafÄ±ndan BakÄ±r kalemler fiyat listesinin paylaÅÄ±lmasÄ± gerekmektedir. Kalem birimi bazÄ±nda fiyatlarÄ±nÄ±n oluÅturulmasÄ± Anadolu BakÄ±r tarafÄ±ndan yapÄ±lacaktÄ±r. Kalem fiyatlarÄ±nÄ±n SAP B1 sistemine aktarÄ±mÄ± AIFTeam tarafÄ±ndan yapÄ±lacaktÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1017,
                title: "Kur Entegrasyonu (Yurt Ä°Ã§i SatÄ±Å)",
                responsible: "Anadolu BakÄ±r",
                description: "Ä°Å BankasÄ± API bilgileri temin edilerek AIFTEAM'e saÄlanmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1018,
                title: "SatÄ±nalma RaporlarÄ±",
                responsible: "Anadolu BakÄ±r",
                description: "\"Nakliye SatÄ±nalma Teklif BaÅarÄ±\", \"Personel Performans\" ve \"GeÃ§miÅ AlÄ±m KarÅÄ±laÅtÄ±rma\" raporlarÄ± iÃ§in beklenen baÅlÄ±klar ve iÃ§erikler AIFTEAM ile paylaÅÄ±lmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1019,
                title: "El Terminali UygulamasÄ±",
                responsible: "Anadolu BakÄ±r",
                description: "KullanÄ±cÄ±larÄ±n RDP eriÅimine uygun tablet, telefon gibi cihazlara sahip olduÄundan emin olunmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 1020,
                title: "SatÄ±nalma SipariÅ ve SatÄ±cÄ± FaturasÄ± EkranÄ± (WEB)",
                responsible: "Anadolu BakÄ±r",
                description: "Ä°lgili web geliÅtirmeler iÃ§in E-Flow Test ortamÄ± Anadolu BakÄ±r'dan talep edilecektir.",
                status: "waiting",
                date: ""
            },
            {
                id: 1021,
                title: "ToplantÄ± Geri Bildirimi",
                responsible: "Anadolu BakÄ±r",
                description: "17.09.2025'de yapÄ±lan toplantÄ± sonucunda Hesap PlanÄ± ve Kalem Kodu, 18.09.2025'te Anadolu BakÄ±r'Ä±n kendi iÃ§ yÃ¶netiminde yapacaÄÄ± toplantÄ± sonrasÄ±nda netleÅip aynÄ± gÃ¼n iÃ§erisinde AIFTeam'e geri dÃ¶nÃ¼Å yapÄ±lacaktÄ±r.",
                status: "waiting",
                date: "2025-09-18"
            },
            
            // AIFTEAM SorumluluÄundaki Aksiyonlar
            {
                id: 2001,
                title: "Hesap PlanÄ± YapÄ±sÄ±",
                responsible: "AIFTEAM",
                description: "Anadolu BakÄ±r'a gÃ¶nderilen mailin takibi yapÄ±lmalÄ± ve hesap planÄ± Ã§alÄ±ÅmasÄ±nÄ±n tamamlanmasÄ± beklenmelidir.",
                status: "waiting",
                date: ""
            },
            {
                id: 2002,
                title: "Muhatap KartÄ± AktarÄ±mÄ±",
                responsible: "AIFTEAM",
                description: "Emre PirinÃ§ tarafÄ±ndan Muhatap ana veri Åablonu tamamlanmalÄ±dÄ±r. (Ãdeme KoÅullarÄ± ve eksik alanlar kontrol edilecektir Mustafa Bey ile.)",
                status: "waiting",
                date: ""
            },
            {
                id: 2003,
                title: "Sanayi Sicil Ä°Åletme Cetveli (Muhasebe)",
                responsible: "AIFTEAM",
                description: "Rapor Åablonu ve alanlarÄ±n anlamlarÄ± hakkÄ±nda Anadolu BakÄ±r'a mail gÃ¶nderilmelidir.",
                status: "waiting",
                date: ""
            },
            {
                id: 2004,
                title: "DÃ¶viz BazÄ±nda Mizan (Finans)",
                responsible: "AIFTEAM",
                description: "DÃ¶viz bazÄ±nda maliyet konusunun nasÄ±l iÅleneceÄi netleÅtirilmeli ve yazÄ±lÄ±m geliÅtirme planlamasÄ± yapÄ±lmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 2005,
                title: "Ãdeme PlanÄ± (Finans)",
                responsible: "AIFTEAM",
                description: "Murat YeniÅen ile web geliÅtirme Ã§alÄ±ÅmasÄ± iÃ§in bir gÃ¶rÃ¼Åme planlanmalÄ±dÄ±r. SAP B1 sisteminde bulunan alÄ±Å faturalarÄ±nÄ±n bakiyelerinin gÃ¶rÃ¼ntÃ¼lendiÄi ve cari ekstrenin yÃ¼klenebildiÄi, onay kurgusu iÃ§eren bir WEB geliÅtirme yapÄ±lacaktÄ±r. E-Flow konusunda Ã¶deme listesinin net olarak alÄ±nÄ±p alÄ±nmayacaÄÄ± AIFTeam tarafÄ±ndan netleÅtirilecektir. Bu kapsamda, Ã¶deme listesine dair test verisi iÃ§eren bir kullanÄ±cÄ± talep edilerek detaylar incelenecektir.",
                status: "waiting",
                date: ""
            },
            {
                id: 2006,
                title: "Nakit AkÄ±Å Raporu (Raporlar)",
                responsible: "AIFTEAM",
                description: "Standart Nakit AkÄ±Å, Ã§ek ve kredi raporlarÄ±nÄ±n detaylarÄ± araÅtÄ±rÄ±lmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 2007,
                title: "Net Tahsilat Entegrasyonu (Finans)",
                responsible: "AIFTEAM",
                description: "Entegrasyon iÃ§in API hazÄ±rlÄ±klarÄ± yapÄ±lmalÄ± ve Anadolu BakÄ±r ile planlamasÄ± gerÃ§ekleÅtirilmelidir.",
                status: "waiting",
                date: ""
            },
            {
                id: 2008,
                title: "DÃ¶nem Sonu Maliyet Hesaplama (Ãretim)",
                responsible: "AIFTEAM",
                description: "Murat YeniÅen ile yapÄ±lacak Ã§alÄ±Åma iÃ§in bir gÃ¶rÃ¼Åme planlanmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 2009,
                title: "Fiyat Listesi (Ä°hracat)",
                responsible: "AIFTEAM",
                description: "Anadolu BakÄ±r'dan gelen fiyat listesi mailleri incelenerek fiyatlarÄ±n nasÄ±l hesaplandÄ±ÄÄ± netleÅtirilmelidir.",
                status: "waiting",
                date: ""
            },
            {
                id: 2010,
                title: "SatÄ±nalma SipariÅ ve SatÄ±cÄ± FaturasÄ± EkranÄ± (WEB)",
                responsible: "AIFTEAM",
                description: "GeliÅtirme Ã¶ncesinde onay iÃ§in Wireframe tasarÄ±mlarÄ± hazÄ±rlanÄ±p Anadolu BakÄ±r'a sunulmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            
            // Ortak / Takip Gerektiren Konular
            {
                id: 3001,
                title: "Outlook Entegrasyonu",
                responsible: "Ortak - AIFTEAM/Anadolu BakÄ±r",
                description: "Murat Bey ile talep edilen entegrasyonun (mailden link ile belge oluÅturma) detaylarÄ±nÄ± gÃ¶rÃ¼Åmek Ã¼zere bir toplantÄ± ayarlanmalÄ±dÄ±r.",
                status: "waiting",
                date: ""
            },
            {
                id: 3002,
                title: "SAP B1 Ãzerinden Mail GÃ¶nderimi",
                responsible: "Ortak - AIFTEAM/Anadolu BakÄ±r",
                description: "Mail gÃ¶nderim senaryolarÄ± (hangi durumda kime mail atÄ±lacaÄÄ± vb.) netleÅtirilmelidir.",
                status: "waiting",
                date: ""
            },
            {
                id: 3003,
                title: "SatÄ±nalma SipariÅ EkranÄ± (WEB)",
                responsible: "Ortak - AIFTEAM/Anadolu BakÄ±r",
                description: "Onay senaryolarÄ± ve iÅ akÄ±ÅlarÄ± netleÅtirilmelidir.",
                status: "waiting",
                date: ""
            }
        ];

        // Yedekleme Sistemi FonksiyonlarÄ±
        function initBackupSystem() {
            // Yedekleme ayarlarÄ±nÄ± yÃ¼kle
            const savedSettings = localStorage.getItem('backupSettings');
            if (savedSettings) {
                backupSettings = JSON.parse(savedSettings);
                document.getElementById('autoBackup').checked = backupSettings.autoBackup;
                document.getElementById('backupInterval').value = backupSettings.backupInterval;
                document.getElementById('backupOnChange').checked = backupSettings.backupOnChange;
                document.getElementById('dailyReminder').checked = backupSettings.dailyReminder;
            }
            
            // Yedekleme geÃ§miÅini yÃ¼kle
            const savedHistory = localStorage.getItem('backupHistory');
            if (savedHistory) {
                backupHistory = JSON.parse(savedHistory);
                updateBackupHistory();
            }
            
            // Son yedekleme zamanÄ±nÄ± kontrol et
            const lastBackup = localStorage.getItem('lastBackupTime');
            if (lastBackup) {
                lastBackupTime = new Date(lastBackup);
                updateBackupStatus();
            }
            
            // Otomatik yedekleme timer'Ä±nÄ± baÅlat
            if (backupSettings.autoBackup) {
                startBackupTimer();
            }
            
            // GÃ¼nlÃ¼k hatÄ±rlatÄ±cÄ±yÄ± kontrol et
            checkDailyReminder();
        }
        
        function createBackup(silent = false) {
            const backupData = {
                version: '1.0',
                timestamp: new Date().toISOString(),
                actions: actions,
                stats: {
                    total: actions.length,
                    completed: actions.filter(a => a.status === 'completed').length,
                    inProgress: actions.filter(a => a.status === 'in-progress').length,
                    waiting: actions.filter(a => a.status === 'waiting').length
                }
            };
            
            // Yedekleme geÃ§miÅine ekle
            const backupEntry = {
                id: Date.now(),
                date: new Date().toISOString(),
                actionCount: actions.length,
                size: JSON.stringify(backupData).length
            };
            
            backupHistory.unshift(backupEntry);
            // Maksimum 10 yedek tut
            if (backupHistory.length > 10) {
                backupHistory = backupHistory.slice(0, 10);
            }
            
            // LocalStorage'a kaydet
            localStorage.setItem('backup_' + backupEntry.id, JSON.stringify(backupData));
            localStorage.setItem('backupHistory', JSON.stringify(backupHistory));
            localStorage.setItem('lastBackupTime', backupEntry.date);
            
            lastBackupTime = new Date(backupEntry.date);
            updateBackupStatus();
            updateBackupHistory();
            
            // Sessiz mod deÄilse dosyayÄ± indir
            if (!silent) {
                downloadBackup(backupData);
                showSuccessMessage('Yedekleme baÅarÄ±yla oluÅturuldu!');
            }
            
            // DeÄiÅiklik sayacÄ±nÄ± sÄ±fÄ±rla
            changeCount = 0;
        }
        
        function downloadBackup(backupData) {
            const blob = new Blob([JSON.stringify(backupData, null, 2)], {
                type: 'application/json'
            });
            
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            const dateStr = new Date().toISOString().replace(/[:.]/g, '-').slice(0, -5);
            link.href = url;
            link.download = `Aksiyon_Yedek_${dateStr}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }
        
        function restoreBackup(backupId) {
            if (!confirm('Bu yedeÄi geri yÃ¼klemek istediÄinizden emin misiniz? Mevcut veriler kaybolacak!')) {
                return;
            }
            
            const backupData = localStorage.getItem('backup_' + backupId);
            if (backupData) {
                const backup = JSON.parse(backupData);
                actions = backup.actions;
                saveActions();
                renderActions();
                updateStats();
                showSuccessMessage('Yedek baÅarÄ±yla geri yÃ¼klendi!');
            }
        }
        
        function updateBackupStatus() {
            const statusElement = document.getElementById('backupStatus');
            const timeElement = document.getElementById('backupTime');
            
            if (lastBackupTime) {
                const now = new Date();
                const diff = Math.floor((now - lastBackupTime) / 1000 / 60); // dakika
                
                if (diff < 30) {
                    statusElement.className = 'backup-status success';
                    timeElement.textContent = `Son yedek: ${diff} dakika Ã¶nce`;
                } else if (diff < 60) {
                    statusElement.className = 'backup-status warning';
                    timeElement.textContent = `Son yedek: ${diff} dakika Ã¶nce`;
                } else if (diff < 1440) {
                    statusElement.className = 'backup-status warning';
                    const hours = Math.floor(diff / 60);
                    timeElement.textContent = `Son yedek: ${hours} saat Ã¶nce`;
                } else {
                    statusElement.className = 'backup-status danger';
                    const days = Math.floor(diff / 1440);
                    timeElement.textContent = `Son yedek: ${days} gÃ¼n Ã¶nce`;
                }
            } else {
                statusElement.className = 'backup-status warning';
                timeElement.textContent = 'Son yedek: HenÃ¼z alÄ±nmadÄ±';
            }
        }
        
        function updateBackupHistory() {
            const listElement = document.getElementById('backupList');
            
            if (backupHistory.length === 0) {
                listElement.innerHTML = '<div style="text-align: center; color: #999;">HenÃ¼z yedek yok</div>';
                return;
            }
            
            listElement.innerHTML = backupHistory.map(backup => {
                const date = new Date(backup.date);
                const dateStr = date.toLocaleDateString('tr-TR') + ' ' + date.toLocaleTimeString('tr-TR', { hour: '2-digit', minute: '2-digit' });
                const sizeKB = Math.round(backup.size / 1024);
                
                return `
                    <div class="backup-item">
                        <div>
                            <div style="font-weight: 500;">${dateStr}</div>
                            <div style="font-size: 0.75rem; color: #999;">${backup.actionCount} aksiyon, ${sizeKB}KB</div>
                        </div>
                        <button class="restore-btn" onclick="restoreBackup(${backup.id})">Geri YÃ¼kle</button>
                    </div>
                `;
            }).join('');
        }
        
        function toggleBackupSettings() {
            const settings = document.getElementById('backupSettings');
            settings.classList.toggle('active');
        }
        
        function updateBackupSettings() {
            backupSettings = {
                autoBackup: document.getElementById('autoBackup').checked,
                backupInterval: parseInt(document.getElementById('backupInterval').value),
                backupOnChange: document.getElementById('backupOnChange').checked,
                dailyReminder: document.getElementById('dailyReminder').checked
            };
            
            localStorage.setItem('backupSettings', JSON.stringify(backupSettings));
            
            // Timer'Ä± yeniden baÅlat
            if (backupTimer) {
                clearInterval(backupTimer);
            }
            
            if (backupSettings.autoBackup) {
                startBackupTimer();
            }
        }
        
        function startBackupTimer() {
            if (backupTimer) {
                clearInterval(backupTimer);
            }
            
            backupTimer = setInterval(() => {
                if (backupSettings.autoBackup) {
                    createBackup(true);
                    showSuccessMessage('Otomatik yedekleme tamamlandÄ±');
                }
            }, backupSettings.backupInterval * 60 * 1000);
        }
        
        function checkDailyReminder() {
            if (!backupSettings.dailyReminder) return;
            
            const now = new Date();
            const lastReminder = localStorage.getItem('lastReminderDate');
            const today = now.toDateString();
            
            if (lastReminder !== today && now.getHours() >= 9) {
                showBackupNotification();
                localStorage.setItem('lastReminderDate', today);
            }
            
            // Her 30 dakikada bir kontrol et
            setTimeout(checkDailyReminder, 30 * 60 * 1000);
        }
        
        function showBackupNotification() {
            document.getElementById('backupNotification').classList.add('active');
        }
        
        function createBackupFromNotification() {
            dismissNotification();
            createBackup();
        }
        
        function dismissNotification() {
            document.getElementById('backupNotification').classList.remove('active');
        }
        
        function exportAllBackups() {
            const allBackups = [];
            
            backupHistory.forEach(entry => {
                const backupData = localStorage.getItem('backup_' + entry.id);
                if (backupData) {
                    allBackups.push({
                        ...entry,
                        data: JSON.parse(backupData)
                    });
                }
            });
            
            const blob = new Blob([JSON.stringify(allBackups, null, 2)], {
                type: 'application/json'
            });
            
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            const dateStr = new Date().toISOString().split('T')[0];
            link.href = url;
            link.download = `Tum_Yedekler_${dateStr}.json`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
            
            showSuccessMessage('TÃ¼m yedekler indirildi!');
        }
        
        function trackChanges() {
            changeCount++;
            if (backupSettings.backupOnChange && changeCount >= 5) {
                createBackup(true);
                showSuccessMessage('Otomatik yedekleme (5 deÄiÅiklik) tamamlandÄ±');
            }
        }
        
        function showSuccessMessage(message) {
            // Basit bir bildirim gÃ¶ster
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 80px;
                right: 20px;
                background: #10b981;
                color: white;
                padding: 15px 20px;
                border-radius: 8px;
                box-shadow: 0 4px 6px rgba(0,0,0,0.1);
                z-index: 3000;
                animation: slideDown 0.3s ease;
            `;
            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.style.animation = 'slideUp 0.3s ease';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        // Dosya yÃ¼kleme (Geri yÃ¼kleme)
        function importBackup() {
            const input = document.createElement('input');
            input.type = 'file';
            input.accept = '.json';
            
            input.onchange = function(e) {
                const file = e.target.files[0];
                if (!file) return;
                
                const reader = new FileReader();
                reader.onload = function(event) {
                    try {
                        const backupData = JSON.parse(event.target.result);
                        
                        // Tek yedek mi yoksa Ã§oklu yedek mi kontrol et
                        if (Array.isArray(backupData)) {
                            // Ãoklu yedek
                            if (confirm('Bu dosyada ' + backupData.length + ' yedek bulundu. TÃ¼mÃ¼nÃ¼ iÃ§e aktarmak istiyor musunuz?')) {
                                backupData.forEach(backup => {
                                    localStorage.setItem('backup_' + backup.id, JSON.stringify(backup.data));
                                });
                                
                                // GeÃ§miÅi gÃ¼ncelle
                                const newHistory = backupData.map(b => ({
                                    id: b.id,
                                    date: b.date,
                                    actionCount: b.actionCount,
                                    size: b.size
                                }));
                                
                                backupHistory = [...newHistory, ...backupHistory].slice(0, 10);
                                localStorage.setItem('backupHistory', JSON.stringify(backupHistory));
                                updateBackupHistory();
                                showSuccessMessage('Yedekler baÅarÄ±yla iÃ§e aktarÄ±ldÄ±!');
                            }
                        } else if (backupData.version && backupData.actions) {
                            // Tek yedek
                            if (confirm('Bu yedeÄi geri yÃ¼klemek istiyor musunuz? Mevcut veriler kaybolacak!')) {
                                actions = backupData.actions;
                                saveActions();
                                renderActions();
                                updateStats();
                                createBackup(true); // Mevcut durumu yedekle
                                showSuccessMessage('Yedek baÅarÄ±yla geri yÃ¼klendi!');
                            }
                        } else {
                            alert('GeÃ§ersiz yedek dosyasÄ±!');
                        }
                    } catch (err) {
                        alert('Dosya okunamadÄ±: ' + err.message);
                    }
                };
                
                reader.readAsText(file);
            };
            
            input.click();
        }

        // LocalStorage'dan veriyi yÃ¼kle
        function loadActions() {
            const stored = localStorage.getItem('actions');
            if (stored) {
                actions = JSON.parse(stored);
            } else {
                // Ä°lk kullanÄ±mda varsayÄ±lan verileri yÃ¼kle
                actions = [...defaultActions];
                saveActions();
            }
            renderActions();
            updateStats();
        }

        // LocalStorage'a kaydet
        function saveActions() {
            localStorage.setItem('actions', JSON.stringify(actions));
            trackChanges(); // DeÄiÅiklikleri takip et
        }

        // TakÄ±m tipini belirle
        function getTeamType(responsible) {
            if (responsible.includes('Ortak')) return 'ortak';
            if (responsible === 'AIFTEAM') return 'aifteam';
            if (responsible === 'Anadolu BakÄ±r') return 'anadolu';
            return 'other';
        }

        // Ä°statistikleri gÃ¼ncelle
        function updateStats() {
            // Anadolu BakÄ±r stats
            const anadoluActions = actions.filter(a => a.responsible === 'Anadolu BakÄ±r');
            document.getElementById('anadoluTotal').textContent = anadoluActions.length;
            document.getElementById('anadoluProgress').textContent = anadoluActions.filter(a => a.status === 'in-progress').length;
            document.getElementById('anadoluWaiting').textContent = anadoluActions.filter(a => a.status === 'waiting').length;

            // AIFTEAM stats
            const aifteamActions = actions.filter(a => a.responsible === 'AIFTEAM');
            document.getElementById('aifteamTotal').textContent = aifteamActions.length;
            document.getElementById('aifteamProgress').textContent = aifteamActions.filter(a => a.status === 'in-progress').length;
            document.getElementById('aifteamWaiting').textContent = aifteamActions.filter(a => a.status === 'waiting').length;

            // Ortak stats
            const ortakActions = actions.filter(a => a.responsible.includes('Ortak'));
            document.getElementById('ortakTotal').textContent = ortakActions.length;
            document.getElementById('ortakProgress').textContent = ortakActions.filter(a => a.status === 'in-progress').length;
            document.getElementById('ortakWaiting').textContent = ortakActions.filter(a => a.status === 'waiting').length;
        }

        // AksiyonlarÄ± render et
        function renderActions() {
            const container = document.getElementById('actionsContainer');
            const searchTerm = document.getElementById('searchInput').value.toLowerCase();
            
            let filtered = actions;

            // TakÄ±m filtresi
            if (currentTeamFilter !== 'all') {
                if (currentTeamFilter === 'Ortak') {
                    filtered = filtered.filter(a => a.responsible.includes('Ortak'));
                } else {
                    filtered = filtered.filter(a => a.responsible === currentTeamFilter);
                }
            }

            // Durum filtresi
            if (currentStatusFilter !== 'all') {
                filtered = filtered.filter(a => a.status === currentStatusFilter);
            }

            // Arama
            if (searchTerm) {
                filtered = filtered.filter(a => 
                    a.title.toLowerCase().includes(searchTerm) ||
                    a.description.toLowerCase().includes(searchTerm) ||
                    a.responsible.toLowerCase().includes(searchTerm)
                );
            }

            if (currentView === 'grouped') {
                // Gruplu gÃ¶rÃ¼nÃ¼m
                const grouped = {
                    anadolu: filtered.filter(a => a.responsible === 'Anadolu BakÄ±r'),
                    aifteam: filtered.filter(a => a.responsible === 'AIFTEAM'),
                    ortak: filtered.filter(a => a.responsible.includes('Ortak'))
                };

                container.className = 'actions-container grouped';
                container.innerHTML = '';

                // Anadolu BakÄ±r grubu
                if (grouped.anadolu.length > 0) {
                    container.innerHTML += `
                        <div class="team-section">
                            <div class="team-header anadolu">
                                <h2>ð¢ Anadolu BakÄ±r</h2>
                                <span>${grouped.anadolu.length} aksiyon</span>
                            </div>
                            <div class="team-actions">
                                ${grouped.anadolu.map(action => createActionCard(action)).join('')}
                            </div>
                        </div>
                    `;
                }

                // AIFTEAM grubu
                if (grouped.aifteam.length > 0) {
                    container.innerHTML += `
                        <div class="team-section">
                            <div class="team-header aifteam">
                                <h2>ð» AIFTEAM</h2>
                                <span>${grouped.aifteam.length} aksiyon</span>
                            </div>
                            <div class="team-actions">
                                ${grouped.aifteam.map(action => createActionCard(action)).join('')}
                            </div>
                        </div>
                    `;
                }

                // Ortak grubu
                if (grouped.ortak.length > 0) {
                    container.innerHTML += `
                        <div class="team-section">
                            <div class="team-header ortak">
                                <h2>ð¤ Ortak Aksiyonlar</h2>
                                <span>${grouped.ortak.length} aksiyon</span>
                            </div>
                            <div class="team-actions">
                                ${grouped.ortak.map(action => createActionCard(action)).join('')}
                            </div>
                        </div>
                    `;
                }
            } else {
                // Izgara gÃ¶rÃ¼nÃ¼mÃ¼
                container.className = 'actions-container';
                container.innerHTML = filtered.map(action => createActionCard(action)).join('');
            }

            if (filtered.length === 0) {
                container.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 40px; background: white; border-radius: 12px;">
                        <p style="color: #6b7280; font-size: 1.1rem;">Aksiyon bulunamadÄ±</p>
                    </div>
                `;
            }
        }

        // Aksiyon kartÄ± oluÅtur
        function createActionCard(action) {
            const teamType = getTeamType(action.responsible);
            const teamIcon = teamType === 'anadolu' ? 'ð¢' : teamType === 'aifteam' ? 'ð»' : 'ð¤';
            
            return `
                <div class="action-card ${teamType}">
                    <div class="action-header">
                        <div>
                            <div class="action-title">${action.title}</div>
                            <div class="responsible">
                                ${teamIcon} ${action.responsible}
                                <span class="responsible-badge ${teamType}">${teamType === 'anadolu' ? 'AB' : teamType === 'aifteam' ? 'AIF' : 'ORT'}</span>
                            </div>
                        </div>
                        <span class="status-badge ${action.status}">${getStatusText(action.status)}</span>
                    </div>
                    <div class="action-description">${action.description}</div>
                    <div class="action-footer">
                        <div class="date">
                            ð ${action.date ? formatDate(action.date) : 'Tarih belirtilmemiÅ'}
                        </div>
                        <div class="action-buttons">
                            <button class="action-btn" onclick="editAction(${action.id})">DÃ¼zenle</button>
                            <button class="action-btn delete" onclick="deleteAction(${action.id})">Sil</button>
                        </div>
                    </div>
                </div>
            `;
        }

        // Durum metnini getir
        function getStatusText(status) {
            const statusMap = {
                'completed': 'TamamlandÄ±',
                'in-progress': 'Devam Ediyor',
                'waiting': 'Bekliyor'
            };
            return statusMap[status] || status;
        }

        // Tarih formatlama
        function formatDate(dateString) {
            if (!dateString) return '';
            const date = new Date(dateString);
            const months = ['Oca', 'Åub', 'Mar', 'Nis', 'May', 'Haz', 'Tem', 'AÄu', 'Eyl', 'Eki', 'Kas', 'Ara'];
            return `${date.getDate()} ${months[date.getMonth()]} ${date.getFullYear()}`;
        }

        // Modal aÃ§
        function openModal() {
            document.getElementById('actionModal').classList.add('active');
            document.getElementById('modalTitle').textContent = 'Yeni Aksiyon Ekle';
            document.getElementById('actionForm').reset();
            editingId = null;
        }

        // Modal kapat
        function closeModal() {
            document.getElementById('actionModal').classList.remove('active');
            editingId = null;
        }

        // Aksiyon dÃ¼zenle
        function editAction(id) {
            const action = actions.find(a => a.id === id);
            if (!action) return;

            editingId = id;
            document.getElementById('modalTitle').textContent = 'Aksiyonu DÃ¼zenle';
            document.getElementById('actionTitle').value = action.title;
            document.getElementById('actionResponsible').value = action.responsible;
            document.getElementById('actionDescription').value = action.description;
            document.getElementById('actionStatus').value = action.status;
            document.getElementById('actionDate').value = action.date || '';
            
            document.getElementById('actionModal').classList.add('active');
        }

        // Aksiyon sil
        function deleteAction(id) {
            if (confirm('Bu aksiyonu silmek istediÄinizden emin misiniz?')) {
                actions = actions.filter(a => a.id !== id);
                saveActions();
                renderActions();
                updateStats();
            }
        }

        // Form gÃ¶nderimi
        document.getElementById('actionForm').addEventListener('submit', (e) => {
            e.preventDefault();
            
            const actionData = {
                title: document.getElementById('actionTitle').value,
                responsible: document.getElementById('actionResponsible').value,
                description: document.getElementById('actionDescription').value,
                status: document.getElementById('actionStatus').value,
                date: document.getElementById('actionDate').value
            };

            if (editingId) {
                // DÃ¼zenleme
                const index = actions.findIndex(a => a.id === editingId);
                if (index !== -1) {
                    actions[index] = { ...actions[index], ...actionData };
                }
            } else {
                // Yeni ekleme
                actions.push({
                    id: Date.now(),
                    ...actionData
                });
            }

            saveActions();
            renderActions();
            updateStats();
            closeModal();
        });

        // Arama
        document.getElementById('searchInput').addEventListener('input', renderActions);

        // TakÄ±m filtreleri
        document.querySelectorAll('.team-filter-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                document.querySelectorAll('.team-filter-btn').forEach(b => b.classList.remove('active'));
                e.currentTarget.classList.add('active');
                e.currentTarget.classList.add(e.currentTarget.dataset.team === 'all' ? 'all' : 
                    e.currentTarget.dataset.team === 'Anadolu BakÄ±r' ? 'anadolu' : 
                    e.currentTarget.dataset.team === 'AIFTEAM' ? 'aifteam' : 'ortak');
                currentTeamFilter = e.currentTarget.dataset.team;
                renderActions();
            });
        });

        // Durum filtreleri
        document.querySelectorAll('.filter-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');
                currentStatusFilter = e.target.dataset.filter;
                renderActions();
            });
        });

        // GÃ¶rÃ¼nÃ¼m deÄiÅtirme
        document.querySelectorAll('.view-btn').forEach(btn => {
            btn.addEventListener('click', (e) => {
                document.querySelectorAll('.view-btn').forEach(b => b.classList.remove('active'));
                e.target.classList.add('active');
                currentView = e.target.dataset.view;
                renderActions();
            });
        });

        // Modal dÄ±ÅÄ±na tÄ±klama ile kapatma
        document.getElementById('actionModal').addEventListener('click', (e) => {
            if (e.target.id === 'actionModal') {
                closeModal();
            }
        });

        // Excel'e Aktar
        function exportToExcel() {
            // Veriyi hazÄ±rla
            const exportData = actions.map(action => ({
                'ID': action.id,
                'BaÅlÄ±k': action.title,
                'Sorumlu': action.responsible,
                'AÃ§Ä±klama': action.description,
                'Durum': getStatusText(action.status),
                'Hedef Tarih': action.date || 'BelirtilmemiÅ',
                'TakÄ±m': action.responsible === 'Anadolu BakÄ±r' ? 'Anadolu BakÄ±r' : 
                         action.responsible === 'AIFTEAM' ? 'AIFTEAM' : 'Ortak'
            }));

            // Workbook oluÅtur
            const wb = XLSX.utils.book_new();
            
            // TÃ¼m aksiyonlar sayfasÄ±
            const ws = XLSX.utils.json_to_sheet(exportData);
            
            // SÃ¼tun geniÅliklerini ayarla
            const colWidths = [
                { wch: 8 },   // ID
                { wch: 35 },  // BaÅlÄ±k
                { wch: 25 },  // Sorumlu
                { wch: 60 },  // AÃ§Ä±klama
                { wch: 15 },  // Durum
                { wch: 15 },  // Tarih
                { wch: 15 }   // TakÄ±m
            ];
            ws['!cols'] = colWidths;
            
            XLSX.utils.book_append_sheet(wb, ws, 'TÃ¼m Aksiyonlar');
            
            // TakÄ±mlara gÃ¶re ayrÄ± sayfalar
            const anadoluData = exportData.filter(a => a.TakÄ±m === 'Anadolu BakÄ±r');
            if (anadoluData.length > 0) {
                const wsAnadolu = XLSX.utils.json_to_sheet(anadoluData);
                wsAnadolu['!cols'] = colWidths;
                XLSX.utils.book_append_sheet(wb, wsAnadolu, 'Anadolu BakÄ±r');
            }
            
            const aifteamData = exportData.filter(a => a.TakÄ±m === 'AIFTEAM');
            if (aifteamData.length > 0) {
                const wsAifteam = XLSX.utils.json_to_sheet(aifteamData);
                wsAifteam['!cols'] = colWidths;
                XLSX.utils.book_append_sheet(wb, wsAifteam, 'AIFTEAM');
            }
            
            const ortakData = exportData.filter(a => a.TakÄ±m === 'Ortak');
            if (ortakData.length > 0) {
                const wsOrtak = XLSX.utils.json_to_sheet(ortakData);
                wsOrtak['!cols'] = colWidths;
                XLSX.utils.book_append_sheet(wb, wsOrtak, 'Ortak');
            }
            
            // Ä°statistikler sayfasÄ±
            const stats = [
                { 'TakÄ±m': 'Anadolu BakÄ±r', 
                  'Toplam': anadoluData.length,
                  'Tamamlanan': anadoluData.filter(a => a.Durum === 'TamamlandÄ±').length,
                  'Devam Eden': anadoluData.filter(a => a.Durum === 'Devam Ediyor').length,
                  'Bekleyen': anadoluData.filter(a => a.Durum === 'Bekliyor').length
                },
                { 'TakÄ±m': 'AIFTEAM', 
                  'Toplam': aifteamData.length,
                  'Tamamlanan': aifteamData.filter(a => a.Durum === 'TamamlandÄ±').length,
                  'Devam Eden': aifteamData.filter(a => a.Durum === 'Devam Ediyor').length,
                  'Bekleyen': aifteamData.filter(a => a.Durum === 'Bekliyor').length
                },
                { 'TakÄ±m': 'Ortak', 
                  'Toplam': ortakData.length,
                  'Tamamlanan': ortakData.filter(a => a.Durum === 'TamamlandÄ±').length,
                  'Devam Eden': ortakData.filter(a => a.Durum === 'Devam Ediyor').length,
                  'Bekleyen': ortakData.filter(a => a.Durum === 'Bekliyor').length
                }
            ];
            
            const wsStats = XLSX.utils.json_to_sheet(stats);
            wsStats['!cols'] = [
                { wch: 20 },
                { wch: 10 },
                { wch: 12 },
                { wch: 12 },
                { wch: 12 }
            ];
            XLSX.utils.book_append_sheet(wb, wsStats, 'Ä°statistikler');
            
            // DosyayÄ± indir
            const date = new Date().toISOString().split('T')[0];
            XLSX.writeFile(wb, `Aksiyon_Takip_${date}.xlsx`);
        }

        // Word'e Aktar
        function exportToWord() {
            // GruplandÄ±rÄ±lmÄ±Å veriyi hazÄ±rla
            const anadoluActions = actions.filter(a => a.responsible === 'Anadolu BakÄ±r');
            const aifteamActions = actions.filter(a => a.responsible === 'AIFTEAM');
            const ortakActions = actions.filter(a => a.responsible.includes('Ortak'));
            
            const date = new Date().toLocaleDateString('tr-TR');
            
            // Word iÃ§in HTML iÃ§eriÄi oluÅtur
            let html = `
                <html xmlns:o='urn:schemas-microsoft-com:office:office' 
                      xmlns:w='urn:schemas-microsoft-com:office:word'
                      xmlns='http://www.w3.org/TR/REC-html40'>
                <head>
                    <meta charset='utf-8'>
                    <title>Aksiyon Takip Raporu</title>
                    <style>
                        body {
                            font-family: Arial, sans-serif;
                            line-height: 1.6;
                            color: #333;
                            margin: 20px;
                        }
                        h1 {
                            color: #2c3e50;
                            border-bottom: 3px solid #3498db;
                            padding-bottom: 10px;
                            margin-bottom: 20px;
                        }
                        h2 {
                            color: #34495e;
                            background-color: #ecf0f1;
                            padding: 10px;
                            margin-top: 30px;
                            margin-bottom: 15px;
                        }
                        .stats-table {
                            width: 100%;
                            border-collapse: collapse;
                            margin-bottom: 30px;
                        }
                        .stats-table th, .stats-table td {
                            border: 1px solid #ddd;
                            padding: 10px;
                            text-align: left;
                        }
                        .stats-table th {
                            background-color: #3498db;
                            color: white;
                        }
                        .stats-table tr:nth-child(even) {
                            background-color: #f9f9f9;
                        }
                        .action-item {
                            margin-bottom: 20px;
                            padding: 15px;
                            border: 1px solid #ddd;
                            background-color: #f9f9f9;
                            page-break-inside: avoid;
                        }
                        .action-title {
                            font-weight: bold;
                            color: #2c3e50;
                            font-size: 16px;
                            margin-bottom: 8px;
                        }
                        .action-field {
                            margin: 5px 0;
                        }
                        .field-label {
                            font-weight: bold;
                            color: #666;
                            display: inline-block;
                            width: 100px;
                        }
                        .status {
                            display: inline-block;
                            padding: 3px 8px;
                            border-radius: 4px;
                            font-size: 12px;
                            font-weight: bold;
                        }
                        .status.completed {
                            background-color: #27ae60;
                            color: white;
                        }
                        .status.in-progress {
                            background-color: #3498db;
                            color: white;
                        }
                        .status.waiting {
                            background-color: #f39c12;
                            color: white;
                        }
                        .team-anadolu {
                            border-left: 4px solid #e74c3c;
                        }
                        .team-aifteam {
                            border-left: 4px solid #3498db;
                        }
                        .team-ortak {
                            border-left: 4px solid #9b59b6;
                        }
                        @page {
                            margin: 2cm;
                        }
                    </style>
                </head>
                <body>
                    <h1>ð Aksiyon Takip Raporu</h1>
                    <p><strong>Rapor Tarihi:</strong> ${date}</p>
                    
                    <h2>ð Ãzet Ä°statistikler</h2>
                    <table class="stats-table">
                        <thead>
                            <tr>
                                <th>TakÄ±m</th>
                                <th>Toplam</th>
                                <th>Tamamlanan</th>
                                <th>Devam Eden</th>
                                <th>Bekleyen</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr>
                                <td>Anadolu BakÄ±r</td>
                                <td>${anadoluActions.length}</td>
                                <td>${anadoluActions.filter(a => a.status === 'completed').length}</td>
                                <td>${anadoluActions.filter(a => a.status === 'in-progress').length}</td>
                                <td>${anadoluActions.filter(a => a.status === 'waiting').length}</td>
                            </tr>
                            <tr>
                                <td>AIFTEAM</td>
                                <td>${aifteamActions.length}</td>
                                <td>${aifteamActions.filter(a => a.status === 'completed').length}</td>
                                <td>${aifteamActions.filter(a => a.status === 'in-progress').length}</td>
                                <td>${aifteamActions.filter(a => a.status === 'waiting').length}</td>
                            </tr>
                            <tr>
                                <td>Ortak</td>
                                <td>${ortakActions.length}</td>
                                <td>${ortakActions.filter(a => a.status === 'completed').length}</td>
                                <td>${ortakActions.filter(a => a.status === 'in-progress').length}</td>
                                <td>${ortakActions.filter(a => a.status === 'waiting').length}</td>
                            </tr>
                            <tr style="font-weight: bold; background-color: #ecf0f1;">
                                <td>TOPLAM</td>
                                <td>${actions.length}</td>
                                <td>${actions.filter(a => a.status === 'completed').length}</td>
                                <td>${actions.filter(a => a.status === 'in-progress').length}</td>
                                <td>${actions.filter(a => a.status === 'waiting').length}</td>
                            </tr>
                        </tbody>
                    </table>
            `;
            
            // Anadolu BakÄ±r AksiyonlarÄ±
            if (anadoluActions.length > 0) {
                html += `<h2>ð¢ Anadolu BakÄ±r AksiyonlarÄ± (${anadoluActions.length})</h2>`;
                anadoluActions.forEach(action => {
                    html += `
                        <div class="action-item team-anadolu">
                            <div class="action-title">${action.title}</div>
                            <div class="action-field">
                                <span class="field-label">Durum:</span>
                                <span class="status ${action.status}">${getStatusText(action.status)}</span>
                            </div>
                            <div class="action-field">
                                <span class="field-label">Tarih:</span>
                                ${action.date ? formatDate(action.date) : 'BelirtilmemiÅ'}
                            </div>
                            <div class="action-field">
                                <span class="field-label">AÃ§Ä±klama:</span><br>
                                ${action.description}
                            </div>
                        </div>
                    `;
                });
            }
            
            // AIFTEAM AksiyonlarÄ±
            if (aifteamActions.length > 0) {
                html += `<h2>ð» AIFTEAM AksiyonlarÄ± (${aifteamActions.length})</h2>`;
                aifteamActions.forEach(action => {
                    html += `
                        <div class="action-item team-aifteam">
                            <div class="action-title">${action.title}</div>
                            <div class="action-field">
                                <span class="field-label">Durum:</span>
                                <span class="status ${action.status}">${getStatusText(action.status)}</span>
                            </div>
                            <div class="action-field">
                                <span class="field-label">Tarih:</span>
                                ${action.date ? formatDate(action.date) : 'BelirtilmemiÅ'}
                            </div>
                            <div class="action-field">
                                <span class="field-label">AÃ§Ä±klama:</span><br>
                                ${action.description}
                            </div>
                        </div>
                    `;
                });
            }
            
            // Ortak Aksiyonlar
            if (ortakActions.length > 0) {
                html += `<h2>ð¤ Ortak Aksiyonlar (${ortakActions.length})</h2>`;
                ortakActions.forEach(action => {
                    html += `
                        <div class="action-item team-ortak">
                            <div class="action-title">${action.title}</div>
                            <div class="action-field">
                                <span class="field-label">Durum:</span>
                                <span class="status ${action.status}">${getStatusText(action.status)}</span>
                            </div>
                            <div class="action-field">
                                <span class="field-label">Tarih:</span>
                                ${action.date ? formatDate(action.date) : 'BelirtilmemiÅ'}
                            </div>
                            <div class="action-field">
                                <span class="field-label">AÃ§Ä±klama:</span><br>
                                ${action.description}
                            </div>
                        </div>
                    `;
                });
            }
            
            html += `
                </body>
                </html>
            `;
            
            // Blob oluÅtur ve indir
            const blob = new Blob(['\ufeff', html], {
                type: 'application/msword'
            });
            
            const url = URL.createObjectURL(blob);
            const link = document.createElement('a');
            const dateStr = new Date().toISOString().split('T')[0];
            link.href = url;
            link.download = `Aksiyon_Takip_Raporu_${dateStr}.doc`;
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
            URL.revokeObjectURL(url);
        }

        // Sayfa yÃ¼klendiÄinde
        loadActions();
        initBackupSystem();
        
        // Her dakika yedekleme durumunu gÃ¼ncelle
        setInterval(updateBackupStatus, 60000);
        
        // Dosya iÃ§e aktarma iÃ§in kÄ±sayol (Ctrl+I)
        document.addEventListener('keydown', (e) => {
            if (e.ctrlKey && e.key === 'i') {
                e.preventDefault();
                importBackup();
            }
        });
    </script>
</body>
</html>
