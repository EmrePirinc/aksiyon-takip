<!DOCTYPE html> <html lang="tr"> <head>    <meta charset="UTF-8">    <meta name="viewport" content="width=device-width, initial-scale=1.0">    <title>Aksiyon Takip Sistemi - Anadolu Bakır & AIFTEAM</title>    <!-- Excel (SheetJS) Kütüphanesi -->    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>    <!-- Word'e Aktarma Kütüphaneleri -->    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>    <script src="https://unpkg.com/html-docx-js@0.4.1/dist/html-docx.js"></script>    <link rel="preconnect" href="https://fonts.googleapis.com">    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">    <link rel="icon" type="image/x-icon" href="./favicon.ico">      <link rel="stylesheet" href="./src/css/styles.css">
    <script src="./src/js/app.js" defer></script>
</head> <body>    <!-- Login Screen -->    <div id="login-container">    <div class="login-box">    <div class="login-header">    <h1>🚀 Aksiyon Takip</h1>    <p class="login-subtitle">Projelerinizi profesyonelce yönetin</p>    </div>    <form id="loginForm" onsubmit="event.preventDefault(); signIn();">    <div class="form-group">    <label for="email">E-posta</label>    <input type="email" id="email" placeholder="ornek@email.com" required>    </div>    <div class="form-group">    <label for="password">Şifre</label>    <input type="password" id="password" placeholder="••••••••••" required>    </div>    <div class="remember-me">    <input type="checkbox" id="rememberMe">    <label for="rememberMe">Beni hatırla</label>    </div>    <div class="form-group" style="margin-top: 25px;">    <button type="submit">Sisteme Giriş Yap</button>    </div>    <div class="forgot-password-link">    <a href="#" onclick="showForgotPasswordModal()" class="forgot-link">Şifremi Unuttum</a>    </div>    <div id="login-error"></div>    </form>    </div>    </div>    <!-- Forgot Password Modal -->    <div id="forgotPasswordModal" class="modal">    <div class="modal-content" style="max-width: 450px;">    <div class="modal-header">    <h2>Şifre Sıfırlama</h2>    <p style="color: #6b7280; margin-top: 8px;">E-posta adresinize şifre sıfırlama linki göndereceğiz.</p>    </div>    <div class="form-group">    <label for="forgotEmail">E-posta Adresiniz</label>    <input type="email" id="forgotEmail" placeholder="ornek@email.com" required>    </div>    <div class="modal-buttons">    <button type="button" class="modal-btn cancel" onclick="closeForgotPasswordModal()">İptal</button>    <button type="button" class="modal-btn primary" onclick="sendPasswordResetEmail()">Şifre Sıfırlama Linki Gönder</button>    </div>    <div id="forgotPasswordError" style="color: #ef4444; margin-top: 15px; text-align: center; display: none;"></div>    <div id="forgotPasswordSuccess" style="color: #10b981; margin-top: 15px; text-align: center; display: none;"></div>    </div>    </div>    <!-- Main Application -->    <div id="app-container" style="display: none;">    <div class="container">    <!-- Header -->    <!-- Modern Clean Header -->    <div class="modern-header">    <div class="modern-header-content">    <div class="header-title-section">    <h1 class="main-title">Aksiyon Takip Sistemi</h1>    <p class="subtitle">Anadolu Bakır & AIFTEAM Proje Yönetimi</p>    </div>    <div class="header-user-section">    <div class="user-menu-modern">    <button class="user-profile-modern" onclick="toggleUserMenu(event)">    <div class="user-avatar-gradient">    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>    <circle cx="12" cy="7" r="4"></circle>    </svg>    </div>    <span class="user-name-clean" id="userDisplayName">emre.pirinc</span>    <div class="user-menu-chevron">    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <polyline points="6,9 12,15 18,9"></polyline>    </svg>    </div>    </button>    <div class="user-dropdown-clean" id="modernUserDropdown">    <div class="dropdown-header-clean">    <div class="dropdown-avatar-clean">    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"></path>    <circle cx="12" cy="7" r="4"></circle>    </svg>    </div>    <div class="dropdown-user-clean">    <div class="dropdown-name-clean" id="userDisplayNameDropdown">emre.pirinc</div>    <div class="dropdown-status">Çevrimiçi</div>    </div>    </div>    <div class="dropdown-divider-clean"></div>    <button class="dropdown-item-clean" onclick="openPersonManagement()">    <div class="dropdown-icon">    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"></path>    <circle cx="9" cy="7" r="4"></circle>    <path d="M23 21v-2a4 4 0 0 0-3-3.87"></path>    <path d="M16 3.13a4 4 0 0 1 0 7.75"></path>    </svg>    </div>    <span>Kişi Yönetimi</span>    </button>    <button class="dropdown-item-clean" onclick="openPasswordModal()">    <div class="dropdown-icon">    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <rect x="3" y="11" width="18" height="11" rx="2" ry="2"></rect>    <circle cx="12" cy="16" r="1"></circle>    <path d="M7 11V7a5 5 0 0 1 10 0v4"></path>    </svg>    </div>    <span>Şifre Değiştir</span>    </button>    <button class="dropdown-item-clean" onclick="showBackupSettings()">    <div class="dropdown-icon">    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>    <polyline points="7,10 12,15 17,10"></polyline>    <line x1="12" y1="15" x2="12" y2="3"></line>    </svg>    </div>    <span>Yedekleme</span>    </button>    <div class="dropdown-divider-clean"></div>    <button class="dropdown-item-clean logout-clean" onclick="logout()">    <div class="dropdown-icon">    <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"></path>    <polyline points="16,17 21,12 16,7"></polyline>    <line x1="21" y1="12" x2="9" y2="12"></line>    </svg>    </div>    <span>Çıkış Yap</span>    </button>    </div>    </div>    </div>    </div>    </div>    <!-- Smart Toolbar -->    <div class="smart-toolbar">    <div class="toolbar-left">    <div class="view-switcher">    <button class="view-tab active" data-view="grouped" title="Gruplu Görünüm">    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <rect x="3" y="3" width="7" height="7"></rect>    <rect x="14" y="3" width="7" height="7"></rect>    <rect x="14" y="14" width="7" height="7"></rect>    <rect x="3" y="14" width="7" height="7"></rect>    </svg>    <span>Gruplu</span>    </button>    <button class="view-tab" data-view="list" title="Liste Görünümü">    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <line x1="8" y1="6" x2="21" y2="6"></line>    <line x1="8" y1="12" x2="21" y2="12"></line>    <line x1="8" y1="18" x2="21" y2="18"></line>    <line x1="3" y1="6" x2="3.01" y2="6"></line>    <line x1="3" y1="12" x2="3.01" y2="12"></line>    <line x1="3" y1="18" x2="3.01" y2="18"></line>    </svg>    <span>Liste</span>    </button>    <button class="view-tab" data-view="kanban" title="Kanban Tahtası">    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <rect x="3" y="3" width="6" height="18"></rect>    <rect x="11" y="3" width="6" height="10"></rect>    <rect x="19" y="3" width="2" height="14"></rect>    </svg>    <span>Kanban</span>    </button>    <button class="view-tab" data-view="calendar" title="Takvim Görünümü">    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>    <line x1="16" y1="2" x2="16" y2="6"></line>    <line x1="8" y1="2" x2="8" y2="6"></line>    <line x1="3" y1="10" x2="21" y2="10"></line>    </svg>    <span>Takvim</span>    </button>    </div>    </div>    <div class="toolbar-right">    <div class="export-buttons-toolbar">    <button class="export-btn excel" onclick="exportToExcel()">    <span class="export-icon">    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">    <path fill="#217346" d="M3 3h18v18H3z"/>    <path fill="white" d="M8.5 7L12 12l-3.5 5h2.25L12.5 14l1.75 3H16.5L13 12l3.5-5h-2.25L12.5 10 10.75 7H8.5z"/>    </svg>    </span>    <span>Excel Aktar</span>    </button>    <button class="export-btn word" onclick="exportToWord()">    <span class="export-icon">    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">    <path fill="#2B579A" d="M4 4h16v16H4z"/>    <path fill="white" d="M8 7h8v2H8V7zm0 3h8v2H8v-2zm0 3h6v2H8v-2z"/>    </svg>    </span>    <span>Word Aktar</span>    </button>    </div>    </div>    </div>    <!-- Floating Action Button -->    <button class="fab" onclick="openModal()" title="Yeni Aksiyon Ekle">    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <line x1="12" y1="5" x2="12" y2="19"></line>    <line x1="5" y1="12" x2="19" y2="12"></line>    </svg>    </button>    <!-- Stats Row -->    <div class="stats-row">    <div class="team-stats anadolu-stats">    <h3><span style="font-size: 1.5rem;">🏢</span> Anadolu Bakır</h3>    <div class="stats-grid">    <div class="mini-stat"><div class="label">Toplam</div><div class="value" id="anadoluTotal">0</div></div>    <div class="mini-stat"><div class="label">Devam</div><div class="value" id="anadoluProgress">0</div></div>    <div class="mini-stat"><div class="label">Bekleyen</div><div class="value" id="anadoluWaiting">0</div></div>    </div>    </div>    <div class="team-stats aifteam-stats">    <h3><span style="font-size: 1.5rem;">💻</span> AIFTEAM</h3>    <div class="stats-grid">    <div class="mini-stat"><div class="label">Toplam</div><div class="value" id="aifteamTotal">0</div></div>    <div class="mini-stat"><div class="label">Devam</div><div class="value" id="aifteamProgress">0</div></div>    <div class="mini-stat"><div class="label">Bekleyen</div><div class="value" id="aifteamWaiting">0</div></div>    </div>    </div>    <div class="team-stats ortak-stats">    <h3><span style="font-size: 1.5rem;">🤝</span> Ortak Aksiyonlar</h3>    <div class="stats-grid">    <div class="mini-stat"><div class="label">Toplam</div><div class="value" id="ortakTotal">0</div></div>    <div class="mini-stat"><div class="label">Devam</div><div class="value" id="ortakProgress">0</div></div>    <div class="mini-stat"><div class="label">Bekleyen</div><div class="value" id="ortakWaiting">0</div></div>    </div>    </div>    </div>    <!-- Modern Control Panel -->    <div class="modern-control-panel">    <!-- Quick Action Bar -->    <div class="quick-action-bar">    <div class="search-container">    <div class="search-box-modern">    <svg class="search-icon-modern" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">    <circle cx="11" cy="11" r="8"></circle>    <line x1="21" y1="21" x2="16.65" y2="16.65"></line>    </svg>    <input type="text" id="searchInput" placeholder="Aksiyon ara... (Ctrl+F)" class="search-input-modern">    </div>    </div>    <div class="action-buttons">    <button class="btn-modern btn-primary-modern" onclick="openModal()">    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">    <line x1="12" y1="5" x2="12" y2="19"></line>    <line x1="5" y1="12" x2="19" y2="12"></line>    </svg>    Yeni Aksiyon    </button>    </div>    </div>    <!-- Advanced Filters -->    <div class="advanced-filters">    <div class="filter-group-modern">    <label class="filter-label-modern">Takım</label>    <div class="filter-pills">    <button class="filter-pill active" data-team="all">    <span>Tümü</span>    </button>    <button class="filter-pill anadolu" data-team="Anadolu Bakır">    <span>🏢</span>    <span>Anadolu Bakır</span>    </button>    <button class="filter-pill aifteam" data-team="AIFTEAM">    <span>🤖</span>    <span>AIFTEAM</span>    </button>    <button class="filter-pill ortak" data-team="Ortak">    <span>🤝</span>    <span>Ortak</span>    </button>    </div>    </div>    <div class="filter-group-modern">    <label class="filter-label-modern">Durum</label>    <div class="filter-pills">    <button class="filter-pill active" data-filter="all">    <span>Tümü</span>    </button>    <button class="filter-pill status-completed" data-filter="completed">    <span>✅</span>    <span>Tamamlandı</span>    </button>    <button class="filter-pill status-progress" data-filter="in-progress">    <span>⏳</span>    <span>Devam Ediyor</span>    </button>    <button class="filter-pill status-waiting" data-filter="waiting">    <span>⏸️</span>    <span>Bekliyor</span>    </button>    </div>    </div>    <div class="filter-group-modern">    <label class="filter-label-modern">Özel</label>    <div class="filter-pills">    <button class="filter-pill priority-filter" id="priorityFilterBtn" onclick="togglePriorityFilter()">    <span>⭐</span>    <span>Öncelikli</span>    </button>    </div>    </div>    </div>    </div>    <!-- Actions Container -->    <div id="actionsContainerWrapper">    <div id="actionsContainerGrouped" class="actions-view-container active"></div>    <div id="actionsContainerList" class="actions-view-container"></div>    <div id="actionsContainerKanban" class="actions-view-container"></div>    <div id="actionsContainerCalendar" class="actions-view-container"></div>    <div id="noResults" class="actions-view-container" style="text-align: center; color: var(--gray-500); padding: var(--space-8);"></div>    </div>    </div>    </div>    <!-- Modals -->    <div class="modal" id="actionModal">    <div class="modal-content modal-content-scrollable">    <div class="modal-header"><h2 id="modalTitle">Yeni Aksiyon Ekle</h2></div>    <form id="actionForm">    <div class="form-group"><label for="actionTitle">Başlık *</label><input type="text" id="actionTitle" required></div>    <div class="form-group">    <label for="actionResponsible">Sorumlu *</label>    <select id="actionResponsible" required>    <option value="">Seçiniz...</option>    <option value="Anadolu Bakır">Anadolu Bakır</option>    <option value="AIFTEAM">AIFTEAM</option>    <option value="Ortak - AIFTEAM/Anadolu Bakır">Ortak - AIFTEAM/Anadolu Bakır</option>    </select>    </div>    <div class="form-group">    <label for="assignedPerson">Atanan Kişi</label>    <select id="assignedPerson"><option value="">Kişi seçiniz...</option></select>    </div>    <div class="form-group"><label for="actionDescription">Açıklama *</label><textarea id="actionDescription" rows="4" required></textarea></div>    <div class="form-group"><label for="actionStatus">Durum *</label><select id="actionStatus" required><option value="waiting">Bekliyor</option><option value="in-progress">Devam Ediyor</option><option value="completed">Tamamlandı</option></select></div>    <div class="form-group"><label for="actionDate">Hedef Tarih</label><input type="date" id="actionDate"></div>    <!-- Dosya Yükleme Bölümü -->    <div class="form-group">    <label for="actionFiles">Dosya Ekle (Resim, PDF, Word, Excel)</label>    <input type="file" id="actionFiles" multiple accept="image/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt" style="margin-bottom: 10px;">    <div id="actionFilePreview" class="file-preview-container">    <!-- Yüklenen dosyalar buraya gelecek -->    </div>    </div>    <div class="modal-buttons">    <button type="button" class="btn modal-btn cancel" onclick="closeModal()">İptal</button>    <button type="submit" class="btn btn-primary modal-btn save">Kaydet</button>    </div>    </form>    </div>    </div>    <div class="modal" id="personModal">    <div class="modal-content">    <div class="modal-header"><h2>Kişi Yönetimi</h2></div>    <div id="personListContainer"></div>    <hr style="margin: 20px -32px; border: none; border-top: 1px solid var(--gray-200);">    <h3 style="margin-bottom: 20px;">Yeni Kişi Ekle</h3>    <form id="addPersonForm" style="margin-bottom: 20px;">    <div class="form-group">    <label for="personName">İsim Soyisim</label>    <input type="text" id="personName" required>    </div>    <div class="form-group">    <label for="personTeam">Takım</label>    <select id="personTeam" required>    <option value="Anadolu Bakır">Anadolu Bakır</option>    <option value="AIFTEAM">AIFTEAM</option>    </select>    </div>    <button type="submit" class="btn btn-primary">Ekle</button>    </form>    <div class="modal-buttons">    <button type="button" class="btn modal-btn cancel" onclick="closePersonManagement()">Kapat</button>    </div>    </div>    </div>    <!-- Postpone Edit Modal -->    <div class="modal" id="postponeEditModal">    <div class="modal-content">    <div class="modal-header"><h2>Erteleme Düzenle</h2></div>    <form id="postponeEditForm">    <div class="form-group">    <label for="postponeEditReason">Erteleme Sebebi *</label>    <textarea id="postponeEditReason" rows="3" required placeholder="Erteleme sebebini açıklayın..."></textarea>    </div>    <div class="form-group">    <label for="postponeEditOriginalDate">Orijinal Tarih</label>    <input type="date" id="postponeEditOriginalDate" readonly style="background: #f5f5f5;">    </div>    <div class="form-group">    <label for="postponeEditNewDate">Yeni Hedef Tarih *</label>    <input type="date" id="postponeEditNewDate" required>    </div>    <div class="modal-buttons">    <button type="button" class="btn modal-btn cancel" onclick="closePostponeEditModal()">İptal</button>    <button type="submit" class="btn btn-primary modal-btn save">Güncelle</button>    </div>    </form>    </div>    </div>    <div class="modal" id="addNoteModal">    <div class="modal-content">    <div class="modal-header"><h2>Aksiyon Ekle</h2></div>    <form id="addNoteForm">    <div class="form-group">    <label for="noteType">Tip *</label>    <select id="noteType" required>    <option value="">Tip Seç</option>    <option value="postpone">Erteleme</option>    <option value="note">Not</option>    <option value="update">Güncelleme</option>    <option value="reminder">Hatırlatma</option>    </select>    </div>    <div class="form-group">    <label for="noteColor">Renk</label>    <div class="color-picker">    <input type="color" id="noteColor" value="#3498db">    <div class="color-presets">    <button type="button" class="color-preset" data-color="#3498db" style="background: #3498db"></button>    <button type="button" class="color-preset" data-color="#e74c3c" style="background: #e74c3c"></button>    <button type="button" class="color-preset" data-color="#f39c12" style="background: #f39c12"></button>    <button type="button" class="color-preset" data-color="#2ecc71" style="background: #2ecc71"></button>    <button type="button" class="color-preset" data-color="#9b59b6" style="background: #9b59b6"></button>    <button type="button" class="color-preset" data-color="#95a5a6" style="background: #95a5a6"></button>    </div>    </div>    </div>    <div class="form-group"><label for="noteText">Açıklama *</label><textarea id="noteText" required placeholder="Açıklama girin..."></textarea></div>    <div class="form-group" id="postponeDateGroup" style="display: none;">    <label for="notePostponeDate">Yeni Hedef Tarih *</label>    <input type="date" id="notePostponeDate">    </div>    <div class="form-group">    <label for="noteFiles">Dosya Ekle (Resim, PDF, Word, Excel)</label>    <input type="file" id="noteFiles" multiple accept="image/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt" style="margin-bottom: 10px;">    <div id="noteFilePreview" class="file-preview-container">    <!-- Yüklenen dosyalar buraya gelecek -->    </div>    </div>    <div class="modal-buttons">    <button type="button" class="btn modal-btn cancel" onclick="closeAddNoteModal()">İptal</button>    <button type="submit" class="btn btn-primary modal-btn save">Ekle</button>    </div>    </form>    </div>    </div>    <div class="modal" id="passwordModal">    <div class="modal-content">    <div class="modal-header"><h2>Şifre Değiştir</h2></div>    <form id="passwordForm">    <div class="form-group">    <label for="currentPassword">Mevcut Şifre *</label>    <input type="password" id="currentPassword" required>    </div>    <div class="form-group">    <label for="changeNewPassword">Yeni Şifre *</label>    <input type="password" id="changeNewPassword" required minlength="6">    </div>    <div class="form-group">    <label for="changeConfirmPassword">Yeni Şifre Tekrar *</label>    <input type="password" id="changeConfirmPassword" required minlength="6">    </div>    <div class="modal-buttons">    <button type="button" class="btn modal-btn cancel" onclick="closePasswordModal()">İptal</button>    <button type="submit" class="btn btn-primary modal-btn save">Şifreyi Değiştir</button>    </div>    </form>    </div>    </div>    <div class="modal" id="detailModal">    <div class="modal-content modal-content-scrollable" style="max-width: 900px; max-height: 90vh;">    <div class="modal-header">    <h2 id="detailTitle">Aksiyon Detayları</h2>    <div style="margin-left: auto; display: flex; gap: 8px;">    <button type="button" class="btn btn-icon" id="editToggleBtn" onclick="toggleEditMode()" style="display: block; padding: 8px 16px; background: #f8f9fa; border: 1px solid #e9ecef; border-radius: 6px; display: flex; align-items: center; gap: 6px; font-size: 14px; color: #495057; transition: all 0.2s;">    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>    <path d="m18.5 2.5-3 3L12 9l-4 1 1-4 3.5-3.5a2.121 2.121 0 0 1 3 3z"/>    </svg>    Düzenle    </button>    <button type="button" class="btn btn-primary" id="saveBtn" onclick="saveComprehensiveEdit()" style="display: none; padding: 8px 16px; background: #007bff; border: 1px solid #007bff; border-radius: 6px; display: flex; align-items: center; gap: 6px; font-size: 14px; color: white; transition: all 0.2s;">    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>    <polyline points="17,21 17,13 7,13 7,21"/>    <polyline points="7,3 7,8 15,8"/>    </svg>    Kaydet    </button>    <button type="button" class="btn btn-icon" onclick="closeDetailModal()" style="padding: 8px; background: transparent; border: none; border-radius: 6px; color: #6c757d; transition: all 0.2s;">    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">    <line x1="18" y1="6" x2="6" y2="18"/>    <line x1="6" y1="6" x2="18" y2="18"/>    </svg>    </button>    </div>    </div>    <!-- Detail View (Read-only) -->    <div id="detailViewForm" style="display: block;">    <div class="detail-card-grid" style="display: grid; gap: 16px;">    <!-- Title and Priority Row -->    <div style="display: flex; align-items: center; justify-content: space-between; padding: 16px; background: #f8f9fa; border-radius: 8px; border-left: 4px solid #007bff;">    <div>    <h3 id="viewActionTitle" style="margin: 0; font-size: 18px; font-weight: 600; color: #212529;"></h3>    </div>    <div id="viewActionPriority" style="display: flex; align-items: center; gap: 6px; font-size: 14px; color: #6c757d;"></div>    </div>    <!-- Status and Date Row -->    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">    <div style="padding: 12px; background: white; border: 1px solid #e9ecef; border-radius: 6px;">    <div style="font-size: 12px; color: #6c757d; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Durum</div>    <span id="viewActionStatus" class="status-badge" style="font-size: 14px; font-weight: 500;"></span>    </div>    <div style="padding: 12px; background: white; border: 1px solid #e9ecef; border-radius: 6px;">    <div style="font-size: 12px; color: #6c757d; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Hedef Tarih</div>    <span id="viewActionDate" style="font-size: 14px; font-weight: 500; color: #212529;"></span>    </div>    </div>    <!-- People Row -->    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">    <div style="padding: 12px; background: white; border: 1px solid #e9ecef; border-radius: 6px;">    <div style="font-size: 12px; color: #6c757d; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Sorumlu</div>    <span id="viewActionResponsible" style="font-size: 14px; font-weight: 500; color: #212529;"></span>    </div>    <div style="padding: 12px; background: white; border: 1px solid #e9ecef; border-radius: 6px;">    <div style="font-size: 12px; color: #6c757d; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 4px;">Atanan Kişi</div>    <span id="viewActionAssignedPerson" style="font-size: 14px; font-weight: 500; color: #212529;"></span>    </div>    </div>    <!-- Description -->    <div style="padding: 16px; background: white; border: 1px solid #e9ecef; border-radius: 6px;">    <div style="font-size: 12px; color: #6c757d; text-transform: uppercase; letter-spacing: 0.5px; margin-bottom: 8px;">Açıklama</div>    <div id="viewActionDescription" style="font-size: 14px; line-height: 1.5; color: #212529;"></div>    </div>    </div>    </div>    <!-- Edit Form -->    <form id="detailEditForm" style="display: none;">    <div style="display: grid; gap: 20px;">    <!-- Title and Priority Row -->    <div style="display: grid; grid-template-columns: 1fr auto; gap: 16px; align-items: end;">    <div class="form-group" style="margin: 0;">    <label for="editActionTitle" style="font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 6px; display: block;">Başlık *</label>    <input type="text" id="editActionTitle" required style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; transition: border-color 0.2s; background: white;">    </div>    <div class="form-group" style="margin: 0;">    <label class="priority-toggle" style="display: flex; align-items: center; gap: 8px; cursor: pointer; user-select: none; padding: 12px 16px; border: 1px solid #d1d5db; border-radius: 6px; background: white; transition: all 0.2s;">    <input type="checkbox" id="editActionPriority" style="display: none;">    <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: #f59e0b;">    <polygon points="12 2 22 8.5 17 20.5 7 20.5 2 8.5"/>    </svg>    <span style="font-size: 14px; font-weight: 500; color: #374151;">Öncelikli</span>    </label>    </div>    </div>    <!-- People Row -->    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">    <div class="form-group" style="margin: 0;">    <label for="editActionResponsible" style="font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 6px; display: block;">Sorumlu *</label>    <select id="editActionResponsible" required style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; cursor: pointer;">    <option value="">Sorumlu Seç</option>    <option value="Anadolu Bakır">Anadolu Bakır</option>    <option value="AIFTEAM">AIFTEAM</option>    </select>    </div>    <div class="form-group" style="margin: 0;">    <label for="editActionAssignedPerson" style="font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 6px; display: block;">Atanan Kişi</label>    <select id="editActionAssignedPerson" style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; cursor: pointer;">    <option value="">Kişi seçilmedi</option>    </select>    </div>    </div>    <!-- Status and Date Row -->    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 16px;">    <div class="form-group" style="margin: 0;">    <label for="editActionStatus" style="font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 6px; display: block;">Durum *</label>    <select id="editActionStatus" required style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white; cursor: pointer;">    <option value="waiting">Bekliyor</option>    <option value="in-progress">Devam Ediyor</option>    <option value="completed">Tamamlandı</option>    </select>    </div>    <div class="form-group" style="margin: 0;">    <label for="editActionDate" style="font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 6px; display: block;">Hedef Tarih</label>    <input type="date" id="editActionDate" style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; background: white;">    </div>    </div>    <!-- Description -->    <div class="form-group" style="margin: 0;">    <label for="editActionDescription" style="font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 6px; display: block;">Açıklama</label>    <textarea id="editActionDescription" rows="4" style="width: 100%; padding: 12px; border: 1px solid #d1d5db; border-radius: 6px; font-size: 14px; resize: vertical; background: white; line-height: 1.5;"></textarea>    </div>    </div>    <!-- File Upload Section -->    <div class="form-group" style="margin-top: 20px;">    <label for="editActionFiles" style="font-size: 14px; font-weight: 600; color: #374151; margin-bottom: 6px; display: block;">Dosya Ekle</label>    <div style="border: 2px dashed #d1d5db; border-radius: 8px; padding: 20px; text-align: center; background: #f9fafb; transition: border-color 0.2s;">    <input type="file" id="editActionFiles" multiple accept="image/*,.pdf,.doc,.docx,.xls,.xlsx,.ppt,.pptx,.txt" style="display: none;">    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="color: #9ca3af; margin-bottom: 8px;">    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>    <polyline points="7,10 12,15 17,10"/>    <line x1="12" y1="15" x2="12" y2="3"/>    </svg>    <div style="font-size: 14px; color: #6b7280; margin-bottom: 4px;">Dosyaları buraya sürükleyin veya</div>    <button type="button" onclick="document.getElementById('editActionFiles').click()" style="background: #3b82f6; color: white; border: none; padding: 8px 16px; border-radius: 6px; font-size: 14px; cursor: pointer; transition: background-color 0.2s;">Dosya Seç</button>    <div style="font-size: 12px; color: #9ca3af; margin-top: 8px;">PDF, Word, Excel, PowerPoint, Resim dosyaları</div>    </div>    <div id="editActionFilePreview" class="file-preview-container" style="margin-top: 12px; display: grid; gap: 8px;">    <!-- Uploaded files will appear here -->    </div>    </div>    </form>    <!-- Attachments Section -->    <div id="detailAttachments" class="detail-section" style="display: none;">    <div class="detail-label" style="margin-bottom: 8px;">📎 Ekler</div>    <div id="detailAttachmentsList" class="attachment-list"></div>    </div>    <!-- Notes Section -->    <div id="detailNotes" class="detail-section" style="display: none;">    <div class="detail-label" style="margin-bottom: 8px;">📝 Notlar</div>    <div id="detailNotesList"></div>    </div>    <!-- Not Ekleme Formu -->    <div id="inlineNoteForm" style="display: none; margin-top: 20px; padding: 20px; background: #f8f9fa; border-radius: 8px; border: 1px solid #e9ecef;">    <h3 style="margin-bottom: 15px; color: #495057;">📝 Not Ekle</h3>    <div class="form-group">    <label for="inlineNoteType">Tip *</label>    <select id="inlineNoteType" required>    <option value="">Tip Seç</option>    <option value="postpone">Erteleme</option>    <option value="note">Not</option>    <option value="update">Güncelleme</option>    <option value="reminder">Hatırlatma</option>    </select>    </div>    <div class="form-group">    <label for="inlineNoteColor">Renk</label>    <div class="color-picker">    <input type="color" id="inlineNoteColor" value="#3498db">    <div class="color-presets">    <button type="button" class="color-preset" data-color="#3498db" style="background: #3498db" onclick="setInlineNoteColor('#3498db')"></button>    <button type="button" class="color-preset" data-color="#e74c3c" style="background: #e74c3c" onclick="setInlineNoteColor('#e74c3c')"></button>    <button type="button" class="color-preset" data-color="#f39c12" style="background: #f39c12" onclick="setInlineNoteColor('#f39c12')"></button>    <button type="button" class="color-preset" data-color="#2ecc71" style="background: #2ecc71" onclick="setInlineNoteColor('#2ecc71')"></button>    <button type="button" class="color-preset" data-color="#9b59b6" style="background: #9b59b6" onclick="setInlineNoteColor('#9b59b6')"></button>    <button type="button" class="color-preset" data-color="#95a5a6" style="background: #95a5a6" onclick="setInlineNoteColor('#95a5a6')"></button>    </div>    </div>    </div>    <div class="form-group">    <label for="inlineNoteText">Açıklama *</label>    <textarea id="inlineNoteText" required placeholder="Açıklama girin..." rows="4"></textarea>    </div>    <div class="form-group" id="inlinePostponeDateGroup" style="display: none;">    <label for="inlineNotePostponeDate">Yeni Hedef Tarih *</label>    <input type="date" id="inlineNotePostponeDate">    </div>    <div class="form-group">    <label for="inlineNoteImages">Resim Ekle</label>    <input type="file" id="inlineNoteImages" multiple accept="image/*">    <div id="inlineImagePreview" class="image-preview"></div>    </div>    <div style="display: flex; gap: 10px; margin-top: 15px;">    <button type="button" class="btn btn-primary" onclick="saveInlineNote()">✅ Ekle</button>    <button type="button" class="btn btn-secondary" onclick="toggleInlineNoteForm()">❌ İptal</button>    </div>    </div>    <div class="modal-buttons" style="margin-top: 30px;">    <button type="button" class="btn modal-btn cancel" onclick="closeDetailModal()">Kapat</button>    </div>    </div>    </div>    <!-- Backup Settings Modal -->    <div class="modal" id="backupModal">    <div class="modal-content">    <div class="modal-header"><h2>Yedekleme Ayarları</h2></div>    <div style="margin-bottom: 20px;">    <p>Verilerinizi güvenle yedekleyebilir ve geri yükleyebilirsiniz.</p>    </div>    <div style="display: flex; gap: 15px; flex-wrap: wrap;">    <button type="button" class="btn btn-success" onclick="exportAllData()" style="flex: 1; min-width: 200px;">    📁 Verileri Dışa Aktar (JSON)    </button>    <button type="button" class="btn btn-primary" onclick="document.getElementById('importFile').click()" style="flex: 1; min-width: 200px;">    📂 Verileri İçe Aktar    </button>    </div>    <input type="file" id="importFile" accept=".json" style="display: none;" onchange="importData(event)">    <div style="margin-top: 20px; padding: 15px; background: #fff3cd; border-radius: 6px; border-left: 4px solid #ffc107;">    <strong>⚠️ Dikkat:</strong> Veri içe aktarımı mevcut tüm verilerin üzerine yazacaktır. Bu işlemden önce mevcut verilerinizi yedeklediğinizden emin olun.    </div>    <div class="modal-buttons" style="margin-top: 25px;">    <button type="button" class="btn modal-btn cancel" onclick="closeBackupModal()">Kapat</button>    </div>    </div>    </div>    <!-- Postpone Modal -->    <div class="modal" id="postponeModal">    <div class="modal-content">    <div class="modal-header"><h2>⏰ Görevi Ertele</h2></div>    <form id="postponeForm">    <div class="form-group">    <label for="postponeReason">Erteleme Sebebi *</label>    <textarea id="postponeReason" required placeholder="Erteleme sebebini açıklayın..."></textarea>    </div>    <div class="form-group">    <label for="postponeDate">Yeni Hedef Tarih *</label>    <input type="date" id="postponeDate" required>    </div>    <div class="form-group">    <label for="postponePriority">Öncelik Durumu</label>    <select id="postponePriority">    <option value="normal">Normal</option>    <option value="high">Yüksek Öncelik</option>    <option value="urgent">Acil</option>    </select>    </div>    <div class="form-group">    <label for="postponeColor">Renk</label>    <div class="color-picker">    <input type="color" id="postponeColor" value="#7c3aed">    <div class="color-presets">    <button type="button" class="color-preset" data-color="#7c3aed" style="background: #7c3aed"></button>    <button type="button" class="color-preset" data-color="#f39c12" style="background: #f39c12"></button>    <button type="button" class="color-preset" data-color="#e74c3c" style="background: #e74c3c"></button>    <button type="button" class="color-preset" data-color="#2ecc71" style="background: #2ecc71"></button>    <button type="button" class="color-preset" data-color="#9b59b6" style="background: #9b59b6"></button>    <button type="button" class="color-preset" data-color="#95a5a6" style="background: #95a5a6"></button>    </div>    </div>    </div>    <div class="form-group">    <label for="postponeImages">Resim Ekle</label>    <input type="file" id="postponeImages" multiple accept="image/*">    <div id="postponeImagePreview" class="image-preview"></div>    </div>    <div class="modal-buttons">    <button type="button" class="modal-btn cancel" onclick="closePostponeModal()">İptal</button>    <button type="submit" class="modal-btn save">⏰ Ertele</button>    </div>    </form>    </div>    </div>    <!-- Image Modal -->    <div id="imageModal" class="image-modal" onclick="closeImageModal()" style="display: none;">    <div class="image-container" onclick="event.stopPropagation()">    <img id="modalImage" src="" alt="" draggable="false">    <div class="zoom-controls">    <button class="zoom-btn" onclick="zoomIn()">+</button>    <button class="zoom-btn" onclick="resetZoom()">⌂</button>    <button class="zoom-btn" onclick="zoomOut()">−</button>    </div>    </div>    <button class="close-modal" onclick="closeImageModal()">×</button>    </div>    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>    <!-- Google Drive API -->    <script src="https://apis.google.com/js/api.js"></script>  </body> </html> 